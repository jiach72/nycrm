# ä¸œæµ·å—æ´‹ CRM ç³»ç»Ÿ - äº§å“éœ€æ±‚æ–‡æ¡£ï¼ˆPRDï¼‰- v2.0

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0  
**æ›´æ–°æ—¥æœŸ**: 2026å¹´1æœˆ  
**ä¸šåŠ¡é¢†åŸŸ**: å‡ºæµ·æœåŠ¡CRMç³»ç»Ÿ  
**éƒ¨ç½²æ¨¡å¼**: Webå¤šç«¯ï¼ˆå®˜ç½‘å…¥å£ã€ç®¡ç†ç«¯ã€å®¢æˆ·ç«¯ï¼‰  
**æŠ€æœ¯æ ˆ**: Vue 3 + Viteï¼ˆå‰ç«¯ï¼‰| Node.js/Pythonï¼ˆåç«¯ï¼‰| PostgreSQLï¼ˆæ•°æ®åº“ï¼‰

---

## ğŸ“‹ ç›®å½•

1. [äº§å“æ¦‚è¿°](#äº§å“æ¦‚è¿°)
2. [ç³»ç»Ÿæ¶æ„ä¸éƒ¨ç½²](#ç³»ç»Ÿæ¶æ„ä¸éƒ¨ç½²)
3. [æŠ€æœ¯æ ˆè¯¦è§£](#æŠ€æœ¯æ ˆè¯¦è§£)
4. [ä¸šåŠ¡ä»·å€¼](#ä¸šåŠ¡ä»·å€¼)
5. [åŠŸèƒ½æ¨¡å—](#åŠŸèƒ½æ¨¡å—)
6. [å®˜ç½‘é›†æˆæ–¹æ¡ˆ](#å®˜ç½‘é›†æˆæ–¹æ¡ˆ)
7. [APIæ¥å£è§„èŒƒ](#apiæ¥å£è§„èŒƒ)
8. [æ•°æ®æ¨¡å‹](#æ•°æ®æ¨¡å‹)
9. [è®¤è¯ä¸æˆæƒ](#è®¤è¯ä¸æˆæƒ)
10. [éƒ¨ç½²ä¸è¿ç»´](#éƒ¨ç½²ä¸è¿ç»´)
11. [å¼€å‘ä¼˜å…ˆçº§](#å¼€å‘ä¼˜å…ˆçº§)

---

## äº§å“æ¦‚è¿°

### äº§å“å®šä¹‰

**ä¸œæµ·å—æ´‹ CRM ç³»ç»Ÿ** æ˜¯ä¸€æ¬¾é’ˆå¯¹å‡ºæµ·æœåŠ¡è¡Œä¸šçš„ä¸“ä¸šå®¢æˆ·å…³ç³»ç®¡ç†å¹³å°ï¼Œæ—¨åœ¨å¸®åŠ©å›¢é˜Ÿç®¡ç†å®¢æˆ·å…¨ç”Ÿå‘½å‘¨æœŸï¼ˆä»çº¿ç´¢è·å–åˆ°å¤ç›˜è½¬ä»‹ï¼‰ï¼Œæå‡äº¤ä»˜æ•ˆç‡ä¸åˆè§„ç®¡ç†æ°´å¹³ã€‚é‡‡ç”¨**Web-basedå¤šç«¯æ¶æ„**ï¼Œæ”¯æŒå®˜ç½‘é›†æˆã€å‘˜å·¥ç®¡ç†ç«¯ã€å®¢æˆ·è‡ªæœåŠ¡ç«¯ä¸‰å¤§å…¥å£ã€‚

### æ ¸å¿ƒç‰¹ç‚¹

- **å®˜ç½‘èåˆ**ï¼šå®˜ç½‘å’¨è¯¢è¡¨å•è‡ªåŠ¨å¯¼å…¥CRMï¼Œæ— ç¼è¡”æ¥
- **å¤šç«¯è®¾è®¡**ï¼šWebç®¡ç†ç«¯ï¼ˆå‘˜å·¥ï¼‰+ Webå®¢æˆ·ç«¯ï¼ˆç”¨æˆ·ï¼‰+ å®˜ç½‘é—¨æˆ·
- **ä¸€ä½“åŒ–è®¤è¯**ï¼šç»Ÿä¸€çš„ç”¨æˆ·è®¤è¯ä½“ç³»ï¼Œå®˜ç½‘æ³¨å†Œå³å¯ç™»å½•CRM
- **å®æ—¶åä½œ**ï¼šå†…éƒ¨å›¢é˜Ÿä¸å®¢æˆ·çš„é€æ˜åŒ–æ²Ÿé€šä¸è¿›åº¦è¿½è¸ª
- **å‰åç«¯åˆ†ç¦»**ï¼šç‹¬ç«‹çš„å‰ç«¯åº”ç”¨å’Œåç«¯APIï¼Œæ”¯æŒå¤šç«¯å¤ç”¨
- **å¾®æœåŠ¡åŒ–**ï¼šå¯æ‰©å±•çš„æœåŠ¡è®¾è®¡ï¼Œæ”¯æŒç‹¬ç«‹éƒ¨ç½²å’Œæ‰©å±•

---

## ç³»ç»Ÿæ¶æ„ä¸éƒ¨ç½²

### æ¶æ„æ¦‚è§ˆ

#### éƒ¨ç½²æ‹“æ‰‘

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CDN (Cloudflare / AWS CloudFront)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“                  â†“                  â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   å®˜ç½‘åº”ç”¨    â”‚   â”‚ ç®¡ç†ç«¯åº”ç”¨    â”‚   â”‚  å®¢æˆ·ç«¯åº”ç”¨     â”‚
    â”‚ (website)   â”‚   â”‚(management)  â”‚   â”‚ (customer-portal)â”‚
    â”‚ Vue 3 App   â”‚   â”‚  Vue 3 App   â”‚   â”‚  Vue 3 App      â”‚
    â”‚ Vite Build  â”‚   â”‚  Vite Build  â”‚   â”‚  Vite Build     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                â”‚                    â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   API Gateway Layer   â”‚
                    â”‚   (Kong / Traefik)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚         Backend Microservices         â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚  â€¢ User Service (è®¤è¯ã€æˆæƒ)          â”‚
            â”‚  â€¢ Lead Service (çº¿ç´¢ç®¡ç†)            â”‚
            â”‚  â€¢ Opportunity Service (å•†æœº)        â”‚
            â”‚  â€¢ Project Service (é¡¹ç›®æ‰§è¡Œ)        â”‚
            â”‚  â€¢ Document Service (æ–‡ä»¶ç®¡ç†)       â”‚
            â”‚  â€¢ Task Service (ä»»åŠ¡å·¥ä½œæµ)         â”‚
            â”‚  â€¢ Notification Service (é€šçŸ¥)       â”‚
            â”‚  â€¢ Analytics Service (æ•°æ®åˆ†æ)      â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚         Data & Cache Layer            â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚  PostgreSQL (ä¸»æ•°æ®åº“)                â”‚
            â”‚  Redis (ç¼“å­˜ + é˜Ÿåˆ—)                 â”‚
            â”‚  Elasticsearch (å…¨æ–‡æœç´¢)            â”‚
            â”‚  S3 / OSS (æ–‡ä»¶å­˜å‚¨)                 â”‚
            â”‚  RabbitMQ (æ¶ˆæ¯é˜Ÿåˆ—)                 â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚      Third-party Services             â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚  â€¢ Google OAuth / SSO                 â”‚
            â”‚  â€¢ Gmail API (é‚®ä»¶æœåŠ¡)               â”‚
            â”‚  â€¢ DocuSign (ç”µå­ç­¾)                  â”‚
            â”‚  â€¢ Stripe (æ”¯ä»˜)                      â”‚
            â”‚  â€¢ Slack (é€šçŸ¥)                       â”‚
            â”‚  â€¢ Twilio (çŸ­ä¿¡)                      â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç½‘ç»œæ‹“æ‰‘

| ç«¯å£ | ç±»å‹ | éƒ¨ç½²æ–¹å¼ | è®¿é—®æ–¹å¼ | æµè§ˆå™¨å…¼å®¹ |
|------|------|--------|--------|----------|
| **å®˜ç½‘** | å…¬ç½‘ | ç‹¬ç«‹æœåŠ¡å™¨ / CDN | https://website.com | Chrome/Safari/Firefox |
| **ç®¡ç†ç«¯** | å†…ç½‘ / VPN | å†…éƒ¨æœåŠ¡å™¨ | https://crm.company.com (VPN) | Chrome/Safari/Firefox |
| **å®¢æˆ·ç«¯** | å…¬ç½‘ | CDN | https://portal.company.com | Chrome/Safari/Firefox |
| **API Gateway** | å†…ç½‘ | APIæœåŠ¡å™¨ | https://api.company.com | RESTful + WebSocket |

---

### å‰åç«¯åˆ†ç¦»æ¶æ„

#### å‰ç«¯åº”ç”¨åˆ†å·¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     å®˜ç½‘åº”ç”¨ (Website)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ æœåŠ¡ä»‹ç»é¡µ                         â”‚
â”‚ â€¢ å›¢é˜Ÿå±•ç¤º                           â”‚
â”‚ â€¢ å’¨è¯¢è¡¨å•                           â”‚
â”‚ â€¢ åšå®¢ / æ¡ˆä¾‹                        â”‚
â”‚ â€¢ ç™»å½•å…¥å£ï¼ˆOAuth 2.0ï¼‰             â”‚
â”‚ å¤šè¯­è¨€ï¼šç®€ / ç¹ / è‹±                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“ (å·²å®Œæˆ Vue 3)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CRM ç®¡ç†ç«¯ (Management Portal)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ çº¿ç´¢ç®¡ç† Dashboard                 â”‚
â”‚ â€¢ é”€å”®é¡¾é—®å·¥ä½œå°                     â”‚
â”‚ â€¢ äº¤ä»˜ç»ç†çœ‹æ¿                       â”‚
â”‚ â€¢ è´¢åŠ¡è´¦å•ç®¡ç†                       â”‚
â”‚ â€¢ æŠ¥è¡¨å’Œåˆ†æ                         â”‚
â”‚ â€¢ ç³»ç»Ÿè®¾ç½®å’Œæƒé™                     â”‚
â”‚ è®¿é—®æ§åˆ¶ï¼šä»…å‘˜å·¥ (VPN/å†…ç½‘)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“ (å¾…å¼€å‘)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CRM å®¢æˆ·ç«¯ (Customer Portal)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ é¡¹ç›®è¿›åº¦çœ‹æ¿                       â”‚
â”‚ â€¢ æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½                     â”‚
â”‚ â€¢ æ¶ˆæ¯ä¸­å¿ƒ                           â”‚
â”‚ â€¢ ä»»åŠ¡æé†’                           â”‚
â”‚ â€¢ ç”µå­ç­¾ç½²                           â”‚
â”‚ â€¢ ä¸ªäººèµ„æ–™ç®¡ç†                       â”‚
â”‚ è®¿é—®æ§åˆ¶ï¼šå·²è®¤è¯å®¢æˆ·                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“ (å¾…å¼€å‘)
```

#### åç«¯å¾®æœåŠ¡åˆ†å·¥

```
API Gateway (å…¥å£å±‚)
    â†“
â”œâ”€ User Service (ç”¨æˆ· & è®¤è¯)
â”‚  â””â”€ /auth/login, /auth/logout, /users, /permissions
â”‚
â”œâ”€ Lead Service (çº¿ç´¢ç®¡ç†)
â”‚  â””â”€ /leads, /leads/{id}, /leads/assign, /leads/dedupe
â”‚
â”œâ”€ Opportunity Service (å•†æœº & æ–¹æ¡ˆ)
â”‚  â””â”€ /opportunities, /proposals, /approvals
â”‚
â”œâ”€ Project Service (é¡¹ç›® & å·¥ä½œæµ)
â”‚  â””â”€ /projects, /tasks, /workflows, /milestones
â”‚
â”œâ”€ Document Service (æ–‡ä»¶ç®¡ç†)
â”‚  â””â”€ /documents, /documents/{id}/upload, /versions
â”‚
â”œâ”€ Task Service (ä»»åŠ¡ç¼–æ’)
â”‚  â””â”€ /tasks, /tasks/{id}/status, /dependencies
â”‚
â”œâ”€ Notification Service (é€šçŸ¥)
â”‚  â””â”€ /notifications, /messages, /reminders
â”‚
â””â”€ Analytics Service (æ•°æ®åˆ†æ)
   â””â”€ /reports/pipeline, /reports/performance, /reports/export
```

---

## æŠ€æœ¯æ ˆè¯¦è§£

### å‰ç«¯æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|------|
| **æ¡†æ¶** | Vue.js | 3.4+ | æ¸è¿›å¼å‰ç«¯æ¡†æ¶ï¼ŒComposition API |
| **æ„å»º** | Vite | 5.0+ | æé€Ÿæ„å»ºå·¥å…·ï¼Œæ”¯æŒHMRçƒ­æ›´æ–° |
| **è¯­è¨€** | TypeScript | 5.3+ | å¼ºç±»å‹æ”¯æŒï¼Œæé«˜ä»£ç å¥å£®æ€§ |
| **ç»„ä»¶åº“** | Element Plus | 2.5+ | ä¼ä¸šçº§UIç»„ä»¶ï¼Œä¸°å¯Œå›¾è¡¨æ”¯æŒ |
| **çŠ¶æ€ç®¡ç†** | Pinia | 2.1+ | è½»é‡çº§çŠ¶æ€ç®¡ç†ï¼Œä¼˜äºVuex |
| **è·¯ç”±** | Vue Router | 4.2+ | SPAè·¯ç”±ç®¡ç†ï¼Œæ”¯æŒåµŒå¥—è·¯ç”± |
| **å›½é™…åŒ–** | Vue I18n | 11.2+ | å¤šè¯­è¨€æ”¯æŒï¼ˆç®€/ç¹/è‹±ï¼‰ |
| **HTTP** | Axios | 1.6+ | HTTPå®¢æˆ·ç«¯ï¼Œæ”¯æŒæ‹¦æˆªå™¨å’Œå–æ¶ˆ |
| **å›¾è¡¨** | ECharts | 5.4+ / Recharts | æ•°æ®å¯è§†åŒ–åº“ |
| **å¯Œæ–‡æœ¬** | TinyMCE / Draft.js | æœ€æ–° | æ–‡æ¡£ç¼–è¾‘å’Œæ³¨é‡Š |
| **æ—¥æœŸ** | date-fns / dayjs | æœ€æ–° | æ—¥æœŸæ—¶é—´å¤„ç† |
| **æ‰“åŒ…** | @vitejs/plugin-vue | æœ€æ–° | Viteçš„Vueæ”¯æŒæ’ä»¶ |

**å‰ç«¯ä¾èµ–å®Œæ•´åˆ—è¡¨ (package.json)**

```json
{
  "dependencies": {
    "vue": "^3.4.0",
    "vue-router": "^4.2.0",
    "pinia": "^2.1.0",
    "element-plus": "^2.5.0",
    "axios": "^1.6.0",
    "echarts": "^5.4.0",
    "vue-i18n": "^11.2.0",
    "date-fns": "^2.30.0",
    "tinymce": "^6.7.0"
  },
  "devDependencies": {
    "vite": "^5.0.0",
    "@vitejs/plugin-vue": "^5.0.0",
    "typescript": "^5.3.0",
    "@vue/test-utils": "^2.4.0",
    "vitest": "^1.0.0"
  }
}
```

### åç«¯æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|------|
| **æ¡†æ¶** | Node.js + Express / Python + FastAPI | 18+ / 3.10+ | é«˜æ€§èƒ½Webæ¡†æ¶ |
| **è¯­è¨€** | TypeScript / Python | 5.3+ / 3.10+ | å¼ºç±»å‹/é€šç”¨ç¼–ç¨‹ |
| **ORM** | Prisma / SQLAlchemy | 5.x+ / 2.x+ | æ•°æ®åº“ORMï¼Œæ”¯æŒè¿ç§» |
| **è®¤è¯** | JWT + OAuth 2.0 | â€” | æ— çŠ¶æ€è®¤è¯ï¼Œæ”¯æŒSSO |
| **APIæ–‡æ¡£** | OpenAPI / Swagger | 3.0+ | APIè‡ªåŠ¨æ–‡æ¡£ç”Ÿæˆ |
| **æ—¥å¿—** | Winston / Python logging | æœ€æ–° | ç»“æ„åŒ–æ—¥å¿— |
| **æµ‹è¯•** | Jest / pytest | æœ€æ–° | å•å…ƒå’Œé›†æˆæµ‹è¯• |
| **ç›‘æ§** | DataDog / New Relic | â€” | åº”ç”¨æ€§èƒ½ç›‘æ§ |
| **æ¶ˆæ¯é˜Ÿåˆ—** | RabbitMQ / AWS SQS | 3.x+ / â€” | å¼‚æ­¥ä»»åŠ¡å¤„ç† |
| **ç¼“å­˜** | Redis | 7.x+ | å†…å­˜ç¼“å­˜å’Œä¼šè¯å­˜å‚¨ |

**æ¨èæŠ€æœ¯æ ˆç»„åˆ**

```
æ–¹æ¡ˆ A (Node.js + Express - å¿«é€Ÿè¿­ä»£):
  - Node.js 18+
  - Express.js / Fastify
  - TypeScript 5.3+
  - Prisma (ORM)
  - PostgreSQL
  - Redis
  - Jest (æµ‹è¯•)

æ–¹æ¡ˆ B (Python + FastAPI - æ•°æ®ç§‘å­¦å‹å¥½):
  - Python 3.10+
  - FastAPI
  - SQLAlchemy (ORM)
  - PostgreSQL
  - Redis
  - pytest (æµ‹è¯•)
  - Pydantic (æ•°æ®éªŒè¯)
```

**æ¨èï¼šæ–¹æ¡ˆ A (Node.js + Express)** - ä¸å‰ç«¯åŒè¯­è¨€ï¼Œå›¢é˜Ÿæ•ˆç‡æ›´é«˜

### åŸºç¡€è®¾æ–½æŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|------|
| **å®¹å™¨åŒ–** | Docker | 24.x+ | åº”ç”¨å®¹å™¨åŒ–éƒ¨ç½² |
| **ç¼–æ’** | Kubernetes | 1.27+ | å®¹å™¨ç¼–æ’å’Œè‡ªåŠ¨æ‰©å±• |
| **CI/CD** | GitHub Actions / GitLab CI | â€” | è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½² |
| **ç›‘æ§** | Prometheus + Grafana | æœ€æ–° | ç³»ç»Ÿç›‘æ§å’Œå‘Šè­¦ |
| **æ—¥å¿—** | ELK Stack (Elasticsearch/Logstash/Kibana) | 8.x+ | æ—¥å¿—èšåˆå’Œåˆ†æ |
| **CDN** | Cloudflare / AWS CloudFront | â€” | é™æ€èµ„æºåŠ é€Ÿ |
| **å­˜å‚¨** | AWS S3 / Aliyun OSS | â€” | å¯¹è±¡å­˜å‚¨æœåŠ¡ |
| **æ•°æ®åº“** | PostgreSQL | 15.x+ | å…³ç³»æ•°æ®åº“ |
| **ç¼“å­˜** | Redis | 7.x+ | å†…å­˜æ•°æ®åº“ |
| **æ¶ˆæ¯é˜Ÿåˆ—** | RabbitMQ | 3.x+ | å¼‚æ­¥æ¶ˆæ¯æœåŠ¡ |

---

## ä¸šåŠ¡ä»·å€¼

### å…³é”®æ”¶ç›Š

- **è½¬åŒ–ç‡æå‡**ï¼šå®˜ç½‘è¡¨å•è‡ªåŠ¨å¯¼å…¥ï¼Œè§„èŒƒåŒ–é”€å”®æµç¨‹ â†’ é¢„æœŸæå‡ 20-30% çš„æˆäº¤è½¬åŒ–
- **äº¤ä»˜æ•ˆç‡**ï¼šå¹¶è¡Œå·¥ä½œæµ + è‡ªåŠ¨ä»»åŠ¡ç”Ÿæˆ â†’ é¡¹ç›®å‘¨æœŸç¼©çŸ­ 30-40%
- **å®¢æˆ·ä½“éªŒ**ï¼šå®¢æˆ·ç«¯å®æ—¶æŸ¥çœ‹è¿›åº¦ã€è‡ªæœåŠ¡ä¸Šä¼ æ–‡ä»¶ â†’ NPS æå‡
- **é£é™©é™ä½**ï¼šåˆè§„æ£€æŸ¥æ¸…å•ã€å®¡æ‰¹æµç¨‹è®°å½• â†’ æ³•å¾‹é£é™©é™ä½ 50%
- **å›¢é˜Ÿåä½œ**ï¼šç»Ÿä¸€çš„æ²Ÿé€šå¹³å°ã€å‡å°‘é‚®ä»¶é‡å¤ â†’ å·¥ä½œæ•ˆç‡æå‡

---

## åŠŸèƒ½æ¨¡å—

### æ¨¡å— Aï¼šçº¿ç´¢ä¸é”€å”®æµç¨‹ï¼ˆLead â†’ Discovery â†’ Proposalï¼‰

#### A1 çº¿ç´¢ç®¡ç†ï¼ˆLead Managementï¼‰

**å¤šæ¸ é“çº¿ç´¢å¯¼å…¥**

| æ¸ é“ | è¯´æ˜ | ä¼˜å…ˆçº§ |
|------|------|-------|
| **å®˜ç½‘å’¨è¯¢è¡¨å•** | è‡ªåŠ¨åŒæ­¥å®˜ç½‘è¡¨å•æäº¤æ•°æ®ï¼Œåˆ›å»ºä¸ºçº¿ç´¢ | P0 |
| **æ‰‹åŠ¨å½•å…¥** | CRMå†…æ‰‹åŠ¨åˆ›å»ºçº¿ç´¢ | P0 |
| **WhatsApp/Facebook** | æ¶ˆæ¯å¯¼å…¥ï¼ˆå¯é€‰é˜¶æ®µ2ï¼‰ | P1 |
| **å•†ä¼š/æ´»åŠ¨** | æ‰‹åŠ¨å¯¼å…¥æˆ–APIé›†æˆ | P1 |
| **è½¬ä»‹ç»** | ç”±ç°æœ‰å®¢æˆ·æ¨èçš„çº¿ç´¢ | P0 |
| **CSVæ‰¹é‡å¯¼å…¥** | æ‰¹é‡å¯¼å…¥çº¿ç´¢åº“ | P1 |

**æ ¸å¿ƒåŠŸèƒ½**

| åŠŸèƒ½ | æè¿° | ä¼˜å…ˆçº§ |
|------|------|-------|
| **è‡ªåŠ¨å»é‡** | æŒ‰å­—æ®µåŒ¹é…å»é‡ï¼šæ‰‹æœºå·ã€é‚®ç®±ã€å¾®ä¿¡IDã€Line IDã€å…¬å¸åï¼ˆæ”¯æŒæ¨¡ç³ŠåŒ¹é…ï¼‰ | P0 |
| **çº¿ç´¢æ ‡ç­¾** | è‡ªå®šä¹‰æ ‡ç­¾ç³»ç»Ÿï¼šå›½å®¶ã€è¡Œä¸šã€é¢„ç®—èŒƒå›´ã€æ—¶æ•ˆã€æœåŠ¡ç±»å‹ | P0 |
| **æ™ºèƒ½åˆ†é…** | è§„åˆ™å¼•æ“åˆ†é…çº¿ç´¢ï¼šåœ°åŒºã€è¡Œä¸šã€é¡¾é—®å·¥ä½œé‡å¹³è¡¡ï¼ˆæ”¯æŒæ‰‹åŠ¨æ”¹æ´¾ï¼‰ | P1 |
| **è‡ªåŠ¨ä»»åŠ¡** | çº¿ç´¢åˆ›å»ºæ—¶è‡ªåŠ¨ç”Ÿæˆ"T+0é¦–æ¬¡è”ç³»"ä»»åŠ¡ï¼Œåˆ†é…ç»™è´Ÿè´£é¡¾é—® | P1 |
| **çº¿ç´¢è¯„åˆ†** | å¯é…ç½®çš„è¯„åˆ†è§„åˆ™ï¼Œå¿«é€Ÿè¯†åˆ«é«˜ä»·å€¼çº¿ç´¢ | P2 |
| **æ¥æºè¿½è¸ª** | è®°å½•çº¿ç´¢æ¥æºï¼ˆå®˜ç½‘è¡¨å•ã€è½¬ä»‹ç»ç­‰ï¼‰ï¼Œç”¨äºæ¸ é“åˆ†æ | P1 |

**å®˜ç½‘è¡¨å•é›†æˆï¼ˆWebhookï¼‰**

```javascript
// å®˜ç½‘è¡¨å•æäº¤æ—¶è‡ªåŠ¨è§¦å‘ï¼š
POST /api/v1/leads/webhook
{
  source: "website_form",
  name: "å¼ ä¸‰",
  email: "zhangsan@example.com",
  phone: "+65 91234567",
  company: "ABC Limited",
  country: "Singapore",
  service_type: "Enterprise Setup",
  message: "å’¨è¯¢ä¼ä¸šæ³¨å†Œå’Œèº«ä»½è§„åˆ’",
  timestamp: "2026-01-28T10:00:00Z"
}

// CRMè‡ªåŠ¨åˆ›å»ºçº¿ç´¢ï¼Œè‡ªåŠ¨å»é‡ï¼Œåˆ†é…ç»™ç›¸åº”é¡¾é—®
```

#### A2 å’¨è¯¢è¯Šæ–­é˜¶æ®µï¼ˆDiscoveryï¼‰

**åŠŸèƒ½éœ€æ±‚**

| åŠŸèƒ½ | æè¿° | ä¼˜å…ˆçº§ |
|------|------|-------|
| **ä¼šè®®é¢„çº¦** | åˆ›å»ºé¢„çº¦ã€è‡ªåŠ¨ç”Ÿæˆæ—¥å†é‚€è¯·ã€æ”¯æŒå¤šæ—¶åŒºã€é™„åŠ ä¼šè®®é“¾æ¥/åœ°ç‚¹ | P0 |
| **ä¼šå‰é—®å·** | åŠ¨æ€è¡¨å•ï¼šèº«ä»½çŠ¶å†µã€å…¬å¸ä¿¡æ¯ã€èµ„äº§è§„æ¨¡ã€å®¶åº­æˆå‘˜ã€å‡ºæµ·ç›®æ ‡ | P0 |
| **å®¢æˆ·æ¡£æ¡ˆ** | ç»“æ„åŒ–å­˜å‚¨ï¼šå®¶åº­æˆå‘˜ã€å…¬å¸æ¦‚å†µã€è´¢åŠ¡çŠ¶å†µ | P0 |
| **éœ€æ±‚åˆ†çº§** | ä¸‰å±‚åˆ†çº§ï¼šå¿…é¡»éœ€æ±‚ã€å¯é€‰éœ€æ±‚ã€æœªæ¥è§„åˆ’ | P1 |
| **ä¼šè®®çºªè¦** | æ¨¡æ¿åŒ–è®°å½•ï¼šå…³é”®è¦ç‚¹ã€è¡ŒåŠ¨é¡¹ã€è´£ä»»äººã€æˆªæ­¢æ—¥æœŸã€ä¸‹ä¸€æ­¥æ—¶é—´ | P0 |
| **åˆè§„æç¤º** | è‡ªåŠ¨æ˜¾ç¤ºé£é™©æç¤ºï¼šä¸åšæŠ•èµ„å»ºè®®ã€ä¸æ‰¿è¯ºæ”¿ç­–ç»“æœç­‰ | P1 |

#### A3 å‡ºæµ·æ–¹æ¡ˆé˜¶æ®µï¼ˆProposalï¼‰

**åŠŸèƒ½éœ€æ±‚**

| åŠŸèƒ½ | æè¿° | ä¼˜å…ˆçº§ |
|------|------|-------|
| **æ–¹æ¡ˆæ¨¡æ¿** | å¯é…ç½®æ¨¡æ¿è‡ªåŠ¨ç”Ÿæˆæ–¹æ¡ˆåˆç¨¿ï¼šä¼ä¸šã€èº«ä»½ã€ç¨åŠ¡ã€é“¶è¡Œã€èµ„äº§ç­‰ | P0 |
| **è´¹ç”¨ä¼°ç®—** | åŠ¨æ€è®¡ç®—è´¹ç”¨ï¼Œæ”¯æŒå¤šé˜¶æ®µä»˜æ¬¾èŠ‚ç‚¹è®¾å®š | P0 |
| **èŒƒå›´ç®¡ç†** | æ¸…æ™°å®šä¹‰ In Scope / Out of Scopeï¼Œå‡å°‘åæœŸäº‰è®® | P0 |
| **é£é™©è¯†åˆ«** | åˆ—å‡ºå…³é”®ä¾èµ–ä¸é£é™©ï¼šå®¢æˆ·ææ–™å‘¨æœŸã€ç¬¬ä¸‰æ–¹å®¡æ‰¹ã€æ”¿ç­–å˜åŒ–ç­‰ | P1 |
| **å®¡æ‰¹æµç¨‹** | è·¯ç”±ç»™åˆè§„/æ³•åŠ¡/äº¤ä»˜éƒ¨é—¨è¯„å®¡ï¼Œæ”¯æŒæ„è§åé¦ˆä¸ä¿®æ”¹ | P0 |
| **æ–¹æ¡ˆå‘é€** | ç”ŸæˆPDFã€æ”¯æŒåœ¨çº¿ç­¾ç½²ï¼ˆç”µå­ç­¾ï¼‰æˆ–é‚®ä»¶å‘é€ | P0 |
| **ç‰ˆæœ¬ç®¡ç†** | è®°å½•æ–¹æ¡ˆä¿®è®¢å†å²ï¼Œæ”¯æŒå¯¹æ¯”æŸ¥çœ‹ | P1 |
| **è‡ªåŠ¨åŒ–åç»­** | å®¢æˆ·ç¡®è®¤ç­¾çº¦åï¼Œè‡ªåŠ¨ï¼šç”Ÿæˆé¡¹ç›®ã€æ‹†åˆ†å­å·¥ä½œæµã€åˆ†é…ä»»åŠ¡ | P1 |

---

### æ¨¡å— Bï¼šäº¤ä»˜æ‰§è¡Œæµç¨‹ï¼ˆDeliveryå¹¶è¡Œå·¥ä½œæµï¼‰

#### B1 å®¢æˆ·Onboarding & åˆè§„ï¼ˆOnboarding & Complianceï¼‰

**åŠŸèƒ½éœ€æ±‚**

| åŠŸèƒ½ | æè¿° | ä¼˜å…ˆçº§ |
|------|------|-------|
| **ç­¾çº¦ç®¡ç†** | è‡ªåŠ¨ç”ŸæˆæœåŠ¡åè®®ã€å…è´£å£°æ˜ã€éšç§æ¡æ¬¾ï¼›æ”¯æŒç”µå­ç­¾ç½²ã€é™„ä»¶å­˜æ¡£ | P0 |
| **æ”¶æ¬¾è·Ÿè¸ª** | è®°å½•å®šé‡‘ã€é˜¶æ®µæ¬¾ã€å°¾æ¬¾ï¼›è‡ªåŠ¨æé†’æ”¶æ¬¾æ—¥æœŸï¼›ä¸è´¢åŠ¡æ¨¡å—é›†æˆ | P0 |
| **KYCæ ¸éªŒ** | å»ºç«‹æ ¸éªŒæ¸…å•ï¼šæŠ¤ç…§/åœ°å€è¯æ˜/å…¬å¸æ³¨å†Œæ–‡ä»¶ï¼›æ”¯æŒæ–‡ä»¶ä¸Šä¼ ã€è‡ªåŠ¨æ£€æŸ¥ | P0 |
| **èµ„é‡‘æ¥æº** | æ”¶é›†"æ¥æºèµ„é‡‘å£°æ˜"ã€"æ¥æºè´¢å¯Œå£°æ˜"ï¼Œè®°å½•å®¡æ ¸ç»“æœ | P1 |
| **é£é™©åˆ†çº§** | å†…éƒ¨å®¡æ‰¹èŠ‚ç‚¹ï¼šåˆ†çº§ã€æ‰¹å‡†/é©³å›ã€ç•™ä¸‹å®¡æ‰¹æ„è§ | P0 |
| **æ–‡æ¡£ç©ºé—´** | ä¸ºæ¯ä¸ªå®¢æˆ·åˆ›å»ºä¸“å±æ–‡ä»¶å¤¹ï¼Œç®¡ç†æƒé™ï¼Œè‡ªåŠ¨å¤‡ä»½ | P0 |
| **èº«ä»½éªŒè¯** | æ”¯æŒèº«ä»½è¯ã€æŠ¤ç…§ã€åœ°å€è¯æ˜ç­‰æ–‡ä»¶ä¸Šä¼ ä¸éªŒè¯ | P1 |

#### B2 ä¼ä¸šå‡ºæµ·è½åœ°ï¼ˆEnterprise Setupï¼‰

**åŠŸèƒ½éœ€æ±‚**

| åŠŸèƒ½ | æè¿° | ä¼˜å…ˆçº§ |
|------|------|-------|
| **ç»“æ„è®¾è®¡** | ç¡®è®¤è‚¡æƒç»“æ„ã€æ§è‚¡å±‚çº§ã€è¿è¥ä¸»ä½“ã€ç¨åŠ¡å±…æ°‘åœ°ä½ | P0 |
| **æ³¨å†Œææ–™** | è‡ªåŠ¨ç”Ÿæˆææ–™æ¸…å•ï¼šè‚¡ä¸œè¯ä»¶ã€åœ°å€ã€è‘£äº‹åå•ã€å…¬å¸ç« ç¨‹ç­‰ | P0 |
| **æ³¨å†Œè·Ÿè¸ª** | è¿½è¸ªå…¬å¸æ³¨å†ŒçŠ¶æ€ï¼šé€’äº¤ã€å¾…å®¡ã€å®¡æ‰¹ä¸­ã€è·æ‰¹ã€é¢†è¯ï¼›è‡ªåŠ¨æé†’ | P1 |
| **é“¶è¡Œå¼€æˆ·** | ç®¡ç†é“¶è¡Œå¼€æˆ·æ¸…å•ã€ææ–™å‡†å¤‡ã€æäº¤ä¸è¿›åº¦è·Ÿè¸ª | P0 |
| **ç»è¥åˆè§„** | è®¾å®šå‘ç¥¨ã€ä¼šè®¡ã€ç¨åŠ¡ç”³æŠ¥å‘¨æœŸï¼›è‡ªåŠ¨æé†’å¹´åº¦åˆè§„æˆªæ­¢ | P1 |
| **æ–‡ä»¶å½’æ¡£** | è‡ªåŠ¨å­˜å‚¨æ³¨å†Œè¯ã€è¥ä¸šæ‰§ç…§ã€é“¶è¡Œå¼€æˆ·ç¡®è®¤ä¹¦ç­‰é‡è¦æ–‡ä»¶ | P0 |

#### B3 èº«ä»½è§„åˆ’ï¼ˆImmigration/Visaï¼‰

**åŠŸèƒ½éœ€æ±‚**

| åŠŸèƒ½ | æè¿° | ä¼˜å…ˆçº§ |
|------|------|-------|
| **è·¯å¾„é€‰æ‹©** | æ”¯æŒå¤šç§ç­¾è¯ç±»å‹ï¼ˆEP/DP/PR/å­¦ç”Ÿç­‰ï¼‰ï¼›è‡ªåŠ¨ç”Ÿæˆæ—¶é—´çº¿ | P0 |
| **ææ–™æ¸…å•** | æŒ‰ç­¾è¯ç±»å‹è‡ªåŠ¨ç”Ÿæˆä¸ªæ€§åŒ–æ¸…å•ï¼ˆæŠ¤ç…§ã€å­¦å†ã€èµ„é‡‘è¯æ˜ç­‰ï¼‰ | P0 |
| **ææ–™å®¡æ ¸** | æ”¶é›†ææ–™ã€æ£€æŸ¥å®Œæ•´æ€§ã€æ ‡è®°ç¼ºå¤±/ä¸åˆæ ¼ã€è‡ªåŠ¨å‚¬ä¿ƒå®¢æˆ·è¡¥ä»¶ | P0 |
| **ç”³è¯·æäº¤** | è®°å½•æäº¤æ—¶é—´ã€æ¡ˆä»¶å·ã€æ‰€åœ¨éƒ¨é—¨ï¼›é›†æˆç¬¬ä¸‰æ–¹ä»£ç†æŠ¥å‘Š | P1 |
| **è¿›åº¦è¿½è¸ª** | æ˜¾ç¤ºå½“å‰çŠ¶æ€ï¼ˆå¾…ç”³è¯·/å·²æäº¤/å®¡æ‰¹ä¸­/å¾…è¡¥ä»¶/å·²æ‰¹å‡†ï¼‰ | P0 |
| **è¡¥ä»¶ç®¡ç†** | æ”¯æŒå¤šè½®è¡¥ä»¶æµç¨‹ï¼Œè®°å½•æ¯æ¬¡è¡¥ä»¶æ—¶é—´å’Œææ–™ | P1 |
| **æ‰¹å‡†åæµç¨‹** | å…³è”åç»­è¡ŒåŠ¨ï¼šä½“æ£€ã€é¢†å¡ã€å¼€æˆ·ã€ä¿é™©ç­‰ | P1 |

#### B4 ç¨åŠ¡æ¶æ„ä¸å®¶æ—åŠå…¬å®¤ï¼ˆTax & Wealthï¼‰

**åŠŸèƒ½éœ€æ±‚**

| åŠŸèƒ½ | æè¿° | ä¼˜å…ˆçº§ |
|------|------|-------|
| **ç¨åŠ¡æ¢³ç†** | æ•´ç†ç¨åŠ¡å±…æ°‘åœ°ä½ã€CRSå½±å“ã€ç°æœ‰ç¨è´Ÿï¼›ç”Ÿæˆåˆæ­¥æŠ¥å‘Š | P1 |
| **æ¶æ„è®¾è®¡** | è®°å½•æ–¹æ¡ˆç»“æ„ï¼šä¿¡æ‰˜ã€æ§è‚¡å…¬å¸ã€VCCç­‰ | P1 |
| **ç¬¬ä¸‰æ–¹å¯¹æ¥** | åˆ†é…ä»»åŠ¡ç»™å¾‹æ‰€/ç¨åŠ¡å¸ˆï¼›è‡ªåŠ¨æé†’äº¤ä»˜æœŸé™ï¼›æ¥æ”¶å›æ‰§ | P0 |
| **æ–‡ä»¶ç®¡ç†** | å­˜å‚¨æ‰€æœ‰ä¿¡æ‰˜æ–‡ä»¶ã€å…¬å¸ç« ç¨‹ã€è‘£äº‹ä¼šå†³è®®ç­‰å…³é”®æ–‡ä»¶ | P0 |
| **å¹´åº¦æé†’** | è‡ªåŠ¨ç”Ÿæˆå¹´åº¦ç»´æŠ¤æ—¥å†ï¼šç”³æŠ¥ã€å®¡è®¡ã€è‘£äº‹ä¼šã€ç»­è´¹ | P1 |

#### B5 è´¢å¯Œç®¡ç†å¯¹æ¥ï¼ˆWealth Management Referralï¼‰

**åŠŸèƒ½éœ€æ±‚**

| åŠŸèƒ½ | æè¿° | ä¼˜å…ˆçº§ |
|------|------|-------|
| **å®¢æˆ·ç”»åƒ** | è®°å½•é£é™©åå¥½ã€æŠ•èµ„ç›®æ ‡ã€èµ„äº§è§„æ¨¡ï¼›å…³è”KYCæ•°æ® | P1 |
| **æœºæ„ç­›é€‰** | å†…éƒ¨åº“ï¼šç§äººé“¶è¡Œã€IFAã€å®¶æ—ä¿¡æ‰˜ï¼›æ”¯æŒç­›é€‰å’Œæ¨è | P1 |
| **å¼•èæµç¨‹** | ç”Ÿæˆå¼•èä¼šè®®é‚€è¯·ã€å‡†å¤‡ææ–™åŒ…ã€è®°å½•å‚ä¼šäººå‘˜ | P0 |
| **äº¤æ¥æ¸…å•** | ç¡®ä¿å®¢æˆ·æˆæƒã€è½¬ä»‹è¯´æ˜ã€æ²Ÿé€šè¾¹ç•Œæ˜ç¡® | P1 |
| **åç»­è·Ÿè¿›** | è¿½è¸ªç»“æœï¼šå¼€æˆ·æˆåŠŸã€ä¿å•ç”Ÿæ•ˆç­‰ | P1 |

---

### æ¨¡å— Cï¼šä»»åŠ¡ä¸å·¥ä½œæµç®¡ç†

#### C1 ç»Ÿä¸€ä»»åŠ¡ç®¡ç†ï¼ˆTask Managementï¼‰

**æ ‡å‡†å­—æ®µï¼ˆæ‰€æœ‰ä»»åŠ¡å¡é€šç”¨ï¼‰**

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| **Task ID** | UUID | ç³»ç»Ÿç”Ÿæˆå”¯ä¸€æ ‡è¯† |
| **æ ‡é¢˜** | Text | æ˜ç¡®çš„ä»»åŠ¡æè¿° |
| **è´Ÿè´£äºº** | User Link | é¡¾é—®/äº¤ä»˜/åˆè§„/è´¢åŠ¡/ç¬¬ä¸‰æ–¹ |
| **çŠ¶æ€** | Select | Not Started / In Progress / Blocked / Done |
| **æˆªæ­¢æ—¥** | Date | YYYY-MM-DD |
| **SLA** | Duration | ä¾‹ï¼šçº¿ç´¢T+1å¿…é¡»é¦–æ¬¡è”ç³» |
| **ä¾èµ–** | Task Links | ç­‰å¾…çš„ä»»åŠ¡ã€å®¢æˆ·ææ–™ã€ç¬¬ä¸‰æ–¹å›å¤ |
| **é˜»å¡åŸå› ** | Select | å®¢æˆ·æœªå›/ææ–™ç¼º/ç¬¬ä¸‰æ–¹æ…¢/å®¡æ‰¹å¡å£³ |
| **äº§å‡ºç‰©** | File/Link | ä¼šè®®çºªè¦ã€æ–¹æ¡ˆPDFã€ç”³è¯·å›æ‰§ã€æ‰¹æ–‡ç­‰ |
| **ä¸‹ä¸€æ­¥** | Text | ä¸€å¥è¯è¡ŒåŠ¨æŒ‡å—ï¼Œé¿å…å¡å£³ |
| **ä¼˜å…ˆçº§** | Select | High / Medium / Low |
| **æ ‡ç­¾** | Multi-Select | å¿«é€Ÿç­›é€‰å’Œåˆ†ç±» |
| **æ—¶é—´è¿½è¸ª** | Duration | å®é™…èŠ±è´¹æ—¶é—´ |
| **å¤‡æ³¨** | Rich Text | è¡¥å……è¯´æ˜ã€å†³ç­–è®°å½• |

**è‡ªåŠ¨åŒ–è§„åˆ™**

```
âœ“ é˜¶æ®µæ¨è¿›è§¦å‘ï¼šDiscoveryå®Œæˆ â†’ è‡ªåŠ¨ç”ŸæˆProposalé˜¶æ®µçš„æ‰€æœ‰ä»»åŠ¡
âœ“ SLAæé†’ï¼šä»»åŠ¡æˆªæ­¢å‰48hå‘é€æé†’ï¼Œè¶…æœŸå˜çº¢
âœ“ ä¾èµ–æé†’ï¼šä¾èµ–ä»»åŠ¡å®Œæˆåï¼Œè‡ªåŠ¨é€šçŸ¥è´Ÿè´£äºº
âœ“ çŠ¶æ€å˜æ›´é€šçŸ¥ï¼šä»»åŠ¡çŠ¶æ€æ”¹ä¸ºBlockedæ—¶ï¼Œè‡ªåŠ¨é€šçŸ¥ç®¡ç†è€…
âœ“ å®¢æˆ·è·Ÿè¿›ï¼š7å¤©æœªæ¥è§¦çš„å®¢æˆ·ï¼Œè§¦å‘"ä¸»åŠ¨è·Ÿè¿›"æé†’
```

#### C2 å·¥ä½œæµå¼•æ“ï¼ˆWorkflow Automationï¼‰

**é¢„è®¾å·¥ä½œæµ**

| å·¥ä½œæµå | è§¦å‘æ¡ä»¶ | è‡ªåŠ¨åŒ–æ“ä½œ |
|---------|---------|---------|
| **Lead to Discovery** | çº¿ç´¢åˆ†é…æˆåŠŸ | åˆ›å»º"é¦–æ¬¡è”ç³»"ä»»åŠ¡ï¼ˆT+0ï¼‰ï¼Œè®¾ç½®7å¤©SLA |
| **Discovery Complete** | ä¼šè®®çºªè¦å·²ä¿å­˜ | ç”Ÿæˆä¸‹ä¸€æ­¥è·Ÿè¿›ä»»åŠ¡ï¼Œå‘é€å†…éƒ¨æé†’ |
| **Proposal Generation** | æ–¹æ¡ˆç¡®è®¤ | è‡ªåŠ¨è·¯ç”±ç»™åˆè§„/æ³•åŠ¡è¯„å®¡ |
| **Project Kickoff** | ç­¾çº¦å®Œæˆ | æ‹†åˆ†å­é¡¹ç›®å·¥ä½œæµï¼Œåˆ†é…ç»™å„éƒ¨é—¨ |
| **Milestone Completion** | å­é¡¹ç›®æ ‡è®°å®Œæˆ | è‡ªåŠ¨è¿›åº¦æ¨è¿›ï¼Œæ›´æ–°å®¢æˆ·ä¾§é¢æ¿ |
| **Payment Due** | è¾¾åˆ°æ”¶æ¬¾èŠ‚ç‚¹ | ç”Ÿæˆè´¢åŠ¡å‚¬æ¬¾ä»»åŠ¡ï¼Œæé†’é¡¾é—® |
| **Annual Maintenance** | å®¢æˆ·è®¾ç½®å¹´åº¦ç»´æŠ¤æ—¥æœŸ | è‡ªåŠ¨ç”Ÿæˆå¹´åº¦æ—¥å†ä»»åŠ¡ï¼Œæå‰30å¤©æé†’ |

---

### æ¨¡å— Dï¼šåä½œä¸æ²Ÿé€š

#### D1 å®¢æˆ·æ²Ÿé€šä¸­å¿ƒï¼ˆCommunication Hubï¼‰

**åŠŸèƒ½éœ€æ±‚**

| åŠŸèƒ½ | æè¿° | ä¼˜å…ˆçº§ |
|------|------|-------|
| **ç»Ÿä¸€æ”¶ä»¶ç®±** | èšåˆï¼šé‚®ä»¶ã€åº”ç”¨å†…æ¶ˆæ¯ã€ç³»ç»Ÿé€šçŸ¥ï¼›æŒ‰å®¢æˆ·è‡ªåŠ¨åˆ†ç±» | P1 |
| **æ´»åŠ¨è®°å½•** | è‡ªåŠ¨è®°å½•æ¯æ¬¡æ²Ÿé€šæ—¶é—´ã€æ¸ é“ã€å†…å®¹æ‘˜è¦ï¼Œå…³è”ä»»åŠ¡/é¡¹ç›® | P0 |
| **é‚®ä»¶æ¨¡æ¿** | é¢„è®¾æ¨¡æ¿ï¼šä¼šè®®é‚€è¯·ã€é—®å·å‘é€ã€æ–¹æ¡ˆè¯´æ˜ã€è¿›åº¦æ±‡æŠ¥ | P1 |
| **åº”ç”¨å†…é€šçŸ¥** | ä»»åŠ¡æé†’ã€å·¥ä½œæµè§¦å‘ã€@æåŠã€è¯„è®ºé€šçŸ¥ | P0 |
| **æ¶ˆæ¯åŠ å¯†** | æ•æ„Ÿä¿¡æ¯åŠ å¯†å­˜å‚¨å’Œä¼ è¾“ | P1 |

#### D2 å†…éƒ¨åä½œï¼ˆInternal Collaborationï¼‰

**åŠŸèƒ½éœ€æ±‚**

| åŠŸèƒ½ | æè¿° | ä¼˜å…ˆçº§ |
|------|------|-------|
| **é¡¹ç›®è®¨è®º** | æŒ‰é¡¹ç›®åˆ›å»ºè®¨è®ºæ¿ï¼Œæ”¯æŒçº¿ç¨‹å¼å›å¤ã€@æåŠã€æƒé™æ§åˆ¶ | P1 |
| **è¯„è®ºå’Œåé¦ˆ** | åœ¨æ–¹æ¡ˆ/æ–‡ä»¶ä¸Šç›´æ¥è¯„è®ºï¼Œæ”¯æŒæ‰¹æ³¨ | P1 |
| **æƒé™ç®¡ç†** | çµæ´»çš„è§’è‰²æƒé™ï¼šæŸ¥çœ‹ã€ç¼–è¾‘ã€å®¡æ‰¹ã€åˆ é™¤ | P0 |
| **å®¡æ‰¹æµç¨‹** | å¤šçº§å®¡æ‰¹é“¾ï¼ˆå¦‚æ–¹æ¡ˆéœ€åˆè§„â†’æ³•åŠ¡â†’æ€»ç›‘å®¡æ‰¹ï¼‰ | P0 |
| **æ´»åŠ¨æ—¥å¿—** | è®°å½•æ‰€æœ‰æ“ä½œï¼šè°åœ¨ä½•æ—¶ä¿®æ”¹äº†ä»€ä¹ˆï¼Œä¾¿äºè¿½è¸ªå®¡è®¡ | P0 |

---

### æ¨¡å— Eï¼šæ•°æ®ä¸æŠ¥è¡¨

#### E1 ä»ªè¡¨æ¿ä¸BIï¼ˆDashboard & Analyticsï¼‰

**é”€å”®ç®¡ç†è§†å›¾**

| æŒ‡æ ‡ | è¯´æ˜ | æ›´æ–°é¢‘ç‡ |
|------|------|---------|
| **Pipelineæ¦‚è§ˆ** | å„é˜¶æ®µå®¢æˆ·æ•°é‡ã€é‡‘é¢ã€å‘¨æœŸ | å®æ—¶ |
| **è½¬åŒ–ç‡åˆ†æ** | Leadâ†’Discoveryâ†’Proposalâ†’Signedçš„è½¬åŒ–æ¼æ–— | æ—¥ |
| **é¡¾é—®ä¸šç»©** | äººå‡ç­¾çº¦æ•°ã€é‡‘é¢ã€å¹³å‡å‘¨æœŸ | å‘¨ |
| **çº¿ç´¢æ¥æºåˆ†æ** | å®˜ç½‘ã€è½¬ä»‹ç»ã€å…¶ä»–æ¸ é“çš„æ•°é‡å’Œè½¬åŒ–ç‡ | æœˆ |
| **SLAå®Œæˆç‡** | å„é˜¶æ®µä»»åŠ¡å®Œæˆç‡ã€è¶…æœŸç‡ | æ—¥ |

**äº¤ä»˜ç®¡ç†è§†å›¾**

| æŒ‡æ ‡ | è¯´æ˜ | æ›´æ–°é¢‘ç‡ |
|------|------|---------|
| **é¡¹ç›®è¿›åº¦** | åœ¨é€”é¡¹ç›®æ•°ã€å®Œæˆç‡ã€å¹³å‡å‘¨æœŸ | å®æ—¶ |
| **å­å·¥ä½œæµçŠ¶æ€** | Enterprise/Visa/Taxç­‰å„å·¥ä½œæµå®Œæˆæƒ…å†µ | å®æ—¶ |
| **é£é™©é¢„è­¦** | è¶…æœŸä»»åŠ¡ã€Blockedä»»åŠ¡ã€ææ–™ç¼ºå¤±é¡¹ç›® | æ—¥ |
| **ç¬¬ä¸‰æ–¹æ•ˆç‡** | å¾‹æ‰€/ç¨åŠ¡å¸ˆ/é“¶è¡Œå¹³å‡å¤„ç†æ—¶é—´ | æœˆ |

**è´¢åŠ¡è§†å›¾**

| æŒ‡æ ‡ | è¯´æ˜ | æ›´æ–°é¢‘ç‡ |
|------|------|---------|
| **æ”¶å…¥ç»Ÿè®¡** | æŒ‰æœˆ/æŒ‰é¡¾é—®/æŒ‰æœåŠ¡ç±»å‹ç»Ÿè®¡æ”¶å…¥ | æ—¥ |
| **åº”æ”¶è´¦æ¬¾** | å¾…æ”¶æ¬¾æ€»é¢ã€é€¾æœŸé‡‘é¢ã€å®¢æˆ·æ¬ æ¬¾æ˜ç»† | å®æ—¶ |
| **æˆæœ¬åˆ†æ** | å¤–åŒ…æˆæœ¬ã€å¹³å‡é¡¹ç›®æˆæœ¬ | æœˆ |
| **åˆ©æ¶¦ç‡** | æ¯›åˆ©ã€å‡€åˆ©ã€æŒ‰é¡¹ç›®ç±»å‹åˆ†æ | æœˆ |

#### E2 æŠ¥è¡¨å¯¼å‡ºï¼ˆReport Exportï¼‰

**é¢„è®¾æŠ¥è¡¨**

| æŠ¥è¡¨ | å—ä¼— | é¢‘ç‡ | æ ¼å¼ |
|------|------|------|------|
| **å‘¨æŠ¥** | å›¢é˜Ÿlead | æ¯å‘¨äº” | PDF + Email |
| **æœˆåº¦ä¸šç»©æŠ¥å‘Š** | ç®¡ç†å±‚ | æ¯æœˆ1æ—¥ | Excel + Dashboard |
| **å®¢æˆ·æ¸…å•** | é”€å”®ã€äº¤ä»˜ | æŒ‰éœ€ | CSV/Excel |
| **åˆè§„å®¡è®¡æŠ¥å‘Š** | æ³•åŠ¡ã€å®¡è®¡ | å­£åº¦ | PDF |
| **è´¢åŠ¡å¯¹è´¦å•** | è´¢åŠ¡ | æœˆåº¦ | Excel |

---

### æ¨¡å— Fï¼šæ–‡æ¡£ä¸æ–‡ä»¶ç®¡ç†

#### F1 æ–‡æ¡£å­˜å‚¨ä¸ç‰ˆæœ¬æ§åˆ¶ï¼ˆDocument Managementï¼‰

**åŠŸèƒ½éœ€æ±‚**

| åŠŸèƒ½ | æè¿° | ä¼˜å…ˆçº§ |
|------|------|-------|
| **æ–‡ä»¶åº“** | æŒ‰å®¢æˆ·/é¡¹ç›®è‡ªåŠ¨åˆ›å»ºæ–‡ä»¶å¤¹ï¼›æ”¯æŒæ–‡ä»¶ä¸Šä¼ ã€é¢„è§ˆã€ä¸‹è½½ | P0 |
| **ç‰ˆæœ¬æ§åˆ¶** | è‡ªåŠ¨ä¿å­˜ç‰ˆæœ¬å†å²ï¼Œæ”¯æŒå¯¹æ¯”å’Œå›æ»š | P1 |
| **è®¿é—®æƒé™** | ç»†ç²’åº¦æƒé™ï¼šå…¬å¼€/å›¢é˜Ÿ/ä¸ªäºº/å—é™ | P0 |
| **æ–‡ä»¶åˆ†ç±»** | è‡ªåŠ¨æ ‡è®°æ–‡ä»¶ç±»å‹ï¼šåˆåŒã€ç”³è¯·ã€æ‰¹æ–‡ã€è´¢åŠ¡ç­‰ | P1 |
| **å…¨æ–‡æœç´¢** | æ”¯æŒæ–‡ä»¶å†…å®¹æœç´¢ã€æ ‡ç­¾æœç´¢ã€é«˜çº§è¿‡æ»¤ | P1 |
| **åˆ°æœŸæé†’** | ä¸ºé‡è¦æ–‡ä»¶è®¾ç½®æœ‰æ•ˆæœŸï¼Œåˆ°æœŸè‡ªåŠ¨æé†’ç»­ç­¾/æ›´æ–° | P2 |
| **å¤‡ä»½** | è‡ªåŠ¨äº‘å¤‡ä»½ï¼Œç¡®ä¿æ•°æ®å®‰å…¨ | P0 |

#### F2 æ¨¡æ¿ç®¡ç†ï¼ˆTemplate Managementï¼‰

**æ¨¡æ¿åº“**

| æ¨¡æ¿ç±»å‹ | ç”¨é€” | ä¼˜å…ˆçº§ |
|---------|------|-------|
| **ä¸šåŠ¡æ–‡ä»¶** | æœåŠ¡åè®®ã€æ–¹æ¡ˆã€è¯„ä¼°æŠ¥å‘Š | P0 |
| **åˆè§„æ–‡ä»¶** | KYCè¡¨å•ã€é£é™©å£°æ˜ã€éšç§æ¡æ¬¾ | P0 |
| **æ²Ÿé€šæ¨¡æ¿** | é‚®ä»¶ã€ä¼šè®®é‚€è¯·ã€è¿›åº¦æ±‡æŠ¥ | P1 |
| **æ¸…å•æ¨¡æ¿** | æ–°åŠ å¡å…¬å¸æ³¨å†Œã€EPç”³è¯·ã€ç¨åŠ¡å¤‡æ¡ˆ | P0 |
| **æŠ¥è¡¨æ¨¡æ¿** | æœˆæŠ¥ã€å­£æŠ¥ã€å¹´æŠ¥æ¡†æ¶ | P1 |

---

### æ¨¡å— Gï¼šå®¢æˆ·è‡ªæœåŠ¡é—¨æˆ·ï¼ˆCustomer Portalï¼‰

#### G1 å®¢æˆ·ç«¯åŠŸèƒ½ï¼ˆé’ˆå¯¹å·²è®¤è¯å®¢æˆ·ï¼‰

**åŠŸèƒ½éœ€æ±‚**

| åŠŸèƒ½ | æè¿° | ä¼˜å…ˆçº§ | é€‚ç”¨è§’è‰² |
|------|------|-------|--------|
| **é¡¹ç›®è¿›åº¦çœ‹æ¿** | å±•ç¤ºå½“å‰æœåŠ¡é¡¹ç›®çš„å„å·¥ä½œæµè¿›åº¦ï¼Œå¯è§†åŒ–Timeline | P0 | å·²ç­¾çº¦å®¢æˆ· |
| **æ–‡ä»¶ä¸Šä¼ ä¸ç®¡ç†** | ä¸Šä¼ ææ–™ã€è¯ä»¶ã€æ–‡ä»¶ï¼›æŸ¥çœ‹å›¢é˜Ÿä¸Šä¼ çš„æ–‡ä»¶ | P0 | å·²ç­¾çº¦å®¢æˆ· |
| **ä»»åŠ¡è¿½è¸ª** | æŸ¥çœ‹åˆ†é…ç»™è‡ªå·±çš„ä»»åŠ¡ï¼ˆå¦‚å‡†å¤‡ææ–™ã€ç­¾ç½²æ–‡ä»¶ï¼‰ | P1 | å·²ç­¾çº¦å®¢æˆ· |
| **æ¶ˆæ¯ä¸é€šçŸ¥** | æ¥æ”¶æ¥è‡ªé¡¾é—®çš„æ¶ˆæ¯ã€ä»»åŠ¡æé†’ã€è¿›åº¦æ›´æ–°é€šçŸ¥ | P0 | å·²ç­¾çº¦å®¢æˆ· |
| **æ–‡ä»¶ç­¾ç½²** | åœ¨çº¿æŸ¥çœ‹å’Œç­¾ç½²ç”µå­åˆåŒã€åè®®ã€è¡¨å• | P0 | å·²ç­¾çº¦å®¢æˆ· |
| **ä¸ªäººèµ„æ–™ç®¡ç†** | ç»´æŠ¤åŸºæœ¬ä¿¡æ¯ã€å®¶åº­æˆå‘˜ã€å…¬å¸ä¿¡æ¯ã€åå¥½è®¾ç½® | P1 | å·²ç­¾çº¦å®¢æˆ· |
| **æ”¯æŒå·¥å•** | æäº¤é—®é¢˜/éœ€æ±‚ï¼ŒæŸ¥çœ‹å¤„ç†è¿›åº¦å’Œå›å¤ | P1 | å·²ç­¾çº¦å®¢æˆ· |
| **ä¸‹è½½ä¸å¯¼å‡º** | ä¸‹è½½åˆåŒã€è¯ä¹¦ã€æŠ¥å‘Šç­‰é‡è¦æ–‡ä»¶ | P1 | å·²ç­¾çº¦å®¢æˆ· |

#### G2 å®˜ç½‘ç™»å½•é›†æˆï¼ˆOAuth 2.0ï¼‰

**ç™»å½•æµç¨‹**

```
å®˜ç½‘è®¿å®¢
    â†“
ç‚¹å‡»"ç™»å½•"æˆ–"è¿›å…¥å®¢æˆ·ä¸­å¿ƒ"
    â†“
é‡å®šå‘åˆ°ï¼šhttps://crm.com/login
    â†“
è¾“å…¥é‚®ç®±/æ‰‹æœºå· + å¯†ç 
    â†“
éªŒè¯æˆåŠŸ
    â†“
è‡ªåŠ¨è¯†åˆ«ç”¨æˆ·è§’è‰²ï¼ˆå‘˜å·¥/å·²è®¤è¯å®¢æˆ·/å¾…å®¡æ ¸çº¿ç´¢ï¼‰
    â†“
é‡å®šå‘åˆ°ç›¸åº”ç«¯å£ï¼š
  - å‘˜å·¥ â†’ ç®¡ç†ç«¯ Dashboard
  - å®¢æˆ· â†’ å®¢æˆ·ç«¯ Project Overview
  - çº¿ç´¢ â†’ å®˜ç½‘å’¨è¯¢ç»“æœé¡µï¼ˆå·²æ”¶åˆ°ï¼Œç­‰å¾…é¡¾é—®è”ç³»ï¼‰
```

---

## å®˜ç½‘é›†æˆæ–¹æ¡ˆ

### H1 å®˜ç½‘å’¨è¯¢è¡¨å•è‡ªåŠ¨å¯¼å…¥

**è¡¨å•å­—æ®µè®¾è®¡**

```json
{
  "åŸºæœ¬ä¿¡æ¯": {
    "name": { "type": "text", "required": true, "label": "å§“å" },
    "email": { "type": "email", "required": true, "label": "é‚®ç®±" },
    "phone": { "type": "tel", "required": true, "label": "ç”µè¯" },
    "company": { "type": "text", "required": false, "label": "å…¬å¸åç§°" }
  },
  "å’¨è¯¢éœ€æ±‚": {
    "services": { 
      "type": "checkbox", 
      "options": ["Enterprise Setup", "Visa Planning", "Tax Planning", "Wealth Management"],
      "label": "æ„Ÿå…´è¶£çš„æœåŠ¡"
    },
    "country": { 
      "type": "select", 
      "options": ["Singapore", "Malaysia", "Taiwan", "..."],
      "label": "ç›®æ ‡å›½å®¶"
    },
    "budget": { 
      "type": "radio", 
      "options": ["<50k", "50-100k", ">100k"],
      "label": "é¢„ç®—èŒƒå›´"
    },
    "timeline": { 
      "type": "radio", 
      "options": ["ASAP", "1å‘¨å†…", "1æœˆå†…"],
      "label": "è”ç³»æ—¶é—´åå¥½"
    }
  },
  "å…¶ä»–": {
    "source": { "type": "select", "label": "å¦‚ä½•äº†è§£åˆ°æˆ‘ä»¬ï¼Ÿ" },
    "message": { "type": "textarea", "label": "è¡¥å……ä¿¡æ¯" }
  }
}
```

**è¡¨å•æäº¤Webhook**

```javascript
// å®˜ç½‘è¡¨å•æäº¤æ—¶ï¼ŒPOSTåˆ°CRMåç«¯
POST https://api.crm.com/v1/leads/from-website
Content-Type: application/json
X-Webhook-Secret: webhook_signing_secret

{
  "source": "website_form",
  "source_url": "https://website.com/services/enterprise-setup",
  "timestamp": "2026-01-28T10:30:00Z",

  "contact_info": {
    "name": "ç‹å››",
    "email": "wang@example.com",
    "phone": "+65 9123 4567",
    "company": "Tech Startup Pte Ltd"
  },

  "inquiry": {
    "services": ["Enterprise Setup", "Visa Planning"],
    "country": "Singapore",
    "budget": "50-100k",
    "timeline": "ASAP"
  },

  "source_channel": "website_contact_form",
  "utm_source": "google_ads",
  "utm_campaign": "singapore-enterprise",
  "utm_medium": "form"
}

// CRMå“åº”
HTTP/1.1 201 Created
{
  "success": true,
  "lead_id": "LEAD-202601-001",
  "message": "çº¿ç´¢å·²åˆ›å»ºï¼Œå°†åœ¨24å°æ—¶å†…æœ‰é¡¾é—®è”ç³»",
  "expected_contact_time": "2026-01-29T18:00:00Z"
}
```

### H2 è¡¨å•æ•°æ®åœ¨CRMä¸­çš„å¤„ç†æµç¨‹

| æ­¥éª¤ | è‡ªåŠ¨åŒ–æ“ä½œ | æ—¶é—´ | APIè°ƒç”¨ |
|------|----------|------|--------|
| **1. æ¥æ”¶ä¸éªŒè¯** | éªŒè¯Webhookç­¾åã€é‚®ç®±/æ‰‹æœºå·æ ¼å¼ | 0ç§’ | â€” |
| **2. å»é‡æ£€æŸ¥** | æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨çº¿ç´¢æˆ–å®¢æˆ· | 1ç§’ | GET /leads?email=... |
| **3. çº¿ç´¢åˆ›å»º** | åˆ›å»ºLeadè®°å½•ï¼Œæ ‡ç­¾ï¼šæ¥æº=å®˜ç½‘è¡¨å• | 2ç§’ | POST /leads |
| **4. æ™ºèƒ½åˆ†é…** | æ ¹æ®å›½å®¶/æœåŠ¡ç±»å‹ï¼Œè‡ªåŠ¨åˆ†é…ç»™ç›¸åº”é¡¾é—® | 3ç§’ | PUT /leads/{id}/assign |
| **5. ä»»åŠ¡ç”Ÿæˆ** | ç”Ÿæˆ"é¦–æ¬¡è”ç³»"ä»»åŠ¡ï¼ŒT+1 SLA | 4ç§’ | POST /tasks |
| **6. å‘é€ç¡®è®¤é‚®ä»¶** | å‘é€é‚®ä»¶ç¡®è®¤ï¼Œè¡¨ç¤ºå·²æ”¶åˆ°å’¨è¯¢ | 5ç§’ | POST /notifications/email |
| **7. å†…éƒ¨é€šçŸ¥** | å‘é€Slack/é‚®ä»¶é€šçŸ¥é¡¾é—®æœ‰æ–°çº¿ç´¢ | 6ç§’ | POST /notifications/internal |

### H3 è¡¨å•ä¸CRMçš„åŒæ­¥ç®¡ç†

**è¡¨å•å­—æ®µ â†’ CRM Leadå­—æ®µæ˜ å°„**

| è¡¨å•å­—æ®µ | CRM Leadå­—æ®µ | æ•°æ®ç±»å‹ | å¤‡æ³¨ |
|---------|----------|--------|------|
| name | contact_name | Text | å¿…å¡« |
| email | email | Email | å¿…å¡«ï¼Œç”¨äºå»é‡ |
| phone | phone | Tel | å¿…å¡«ï¼Œç”¨äºå»é‡ |
| company | company_name | Text | å¯é€‰ |
| services[] | service_types | Array | æ•°ç»„ï¼Œå…³è”Serviceå­—å…¸è¡¨ |
| country | target_country | Select | å…³è”Countryå­—å…¸è¡¨ |
| budget | budget_range | Select | å…³è”BudgetRangeå­—å…¸è¡¨ |
| timeline | contact_timeline | Select | ASAP/1å‘¨å†…/1æœˆå†… |
| source | source_channel | Select | è‡ªåŠ¨è®¾ç½®ä¸º"website_form" |
| message | inquiry_message | Text | å¯é€‰ |
| utm_source | utm_source | Text | è‡ªåŠ¨æŠ“å– |
| utm_campaign | utm_campaign | Text | è‡ªåŠ¨æŠ“å– |
| â€” | created_at | DateTime | è‡ªåŠ¨ç”Ÿæˆ |
| â€” | assigned_to | UserLink | è‡ªåŠ¨åˆ†é… |
| â€” | status | Select | é»˜è®¤ä¸º"New" |
| â€” | tags | Array | è‡ªåŠ¨æ·»åŠ æ ‡ç­¾ |

**è¡¨å•æ¸ é“åˆ†æï¼ˆDashboardç¤ºä¾‹ï¼‰**

```
çº¿ç´¢æ¥æºæŠ¥è¡¨ï¼š
  - å®˜ç½‘å’¨è¯¢è¡¨å•ï¼š45% (185æ¡çº¿ç´¢ï¼Œæˆäº¤ç‡28%)
  - è½¬ä»‹ç»ï¼š30% (122æ¡çº¿ç´¢ï¼Œæˆäº¤ç‡42%)
  - WhatsAppï¼š15% (61æ¡çº¿ç´¢ï¼Œæˆäº¤ç‡18%)
  - å…¶ä»–ï¼š10% (41æ¡çº¿ç´¢ï¼Œæˆäº¤ç‡12%)

æŒ‰æœåŠ¡ç±»å‹åˆ†ç±»ï¼š
  - ä¼ä¸šè®¾ç«‹ï¼š55%
  - èº«ä»½è§„åˆ’ï¼š35%
  - ç¨åŠ¡è§„åˆ’ï¼š7%
  - è´¢å¯Œç®¡ç†ï¼š3%

æŒ‰ç›®æ ‡å›½å®¶åˆ†ç±»ï¼š
  - æ–°åŠ å¡ï¼š60%
  - é©¬æ¥è¥¿äºšï¼š25%
  - å°æ¹¾ï¼š15%
```

---

## APIæ¥å£è§„èŒƒ

### åŸºç¡€è®¾æ–½

**APIåŸºç¡€URL**
```
å¼€å‘ç¯å¢ƒï¼šhttps://api-dev.crm.com/v1
æµ‹è¯•ç¯å¢ƒï¼šhttps://api-test.crm.com/v1
ç”Ÿäº§ç¯å¢ƒï¼šhttps://api.crm.com/v1
```

**è¯·æ±‚/å“åº”æ ¼å¼**
```
Content-Type: application/json
Accept: application/json
```

**è®¤è¯æ–¹å¼**
```
Authorization: Bearer <jwt_token>
X-API-Key: <api_key>  (ç”¨äºæœåŠ¡é—´é€šä¿¡)
```

### æ ¸å¿ƒAPIè®¾è®¡

#### ç”¨æˆ·ä¸è®¤è¯

**POST /auth/login** - ç”¨æˆ·ç™»å½•
```bash
POST /auth/login
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "password",
  "remember_me": true
}

Response:
{
  "access_token": "eyJhbGciOiJIUzI1NiIs...",
  "refresh_token": "eyJhbGciOiJIUzI1NiIs...",
  "token_type": "Bearer",
  "expires_in": 7200,
  "user": {
    "id": "USR-001",
    "name": "å¼ ä¸‰",
    "email": "user@example.com",
    "role": "sales_consultant",
    "avatar": "https://..."
  }
}
```

**POST /auth/logout** - ç”¨æˆ·ç™»å‡º
```bash
POST /auth/logout
Authorization: Bearer <token>

Response: { "success": true }
```

**GET /auth/oauth/authorize** - OAuth 2.0æˆæƒ
```bash
GET /auth/oauth/authorize?
  client_id=website_app_id&
  redirect_uri=https://website.com/callback&
  scope=customer_portal&
  state=random_state

Response: é‡å®šå‘åˆ°ç™»å½•/æˆæƒé¡µ
```

**POST /auth/oauth/token** - è·å–OAuthä»¤ç‰Œ
```bash
POST /auth/oauth/token
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&
code=auth_code&
client_id=website_app_id&
client_secret=secret&
redirect_uri=https://website.com/callback

Response:
{
  "access_token": "jwt_token",
  "token_type": "Bearer",
  "expires_in": 7200,
  "user_role": "customer|employee|prospect"
}
```

#### çº¿ç´¢ç®¡ç†

**POST /leads** - åˆ›å»ºçº¿ç´¢
```bash
POST /leads
Authorization: Bearer <token>
Content-Type: application/json

{
  "name": "å¼ ä¸‰",
  "email": "zhangsan@example.com",
  "phone": "+65 91234567",
  "company": "ABC Limited",
  "country": "Singapore",
  "service_types": ["Enterprise Setup", "Visa Planning"],
  "budget_range": "50-100k",
  "source_channel": "website_form",
  "tags": ["hot", "enterprise"],
  "inquiry_message": "å’¨è¯¢ä¼ä¸šæ³¨å†Œå’Œèº«ä»½è§„åˆ’"
}

Response:
{
  "id": "LEAD-202601-001",
  "name": "å¼ ä¸‰",
  "created_at": "2026-01-28T10:00:00Z",
  "assigned_to": {
    "id": "USR-002",
    "name": "æå››"
  },
  "status": "new"
}
```

**GET /leads** - åˆ—å‡ºçº¿ç´¢ï¼ˆæ”¯æŒåˆ†é¡µ/è¿‡æ»¤ï¼‰
```bash
GET /leads?page=1&limit=20&status=new&assigned_to=USR-002&tags=hot

Response:
{
  "data": [
    {
      "id": "LEAD-202601-001",
      "name": "å¼ ä¸‰",
      "email": "zhangsan@example.com",
      "phone": "+65 91234567",
      "company": "ABC Limited",
      "country": "Singapore",
      "service_types": ["Enterprise Setup"],
      "source_channel": "website_form",
      "assigned_to": { "id": "USR-002", "name": "æå››" },
      "status": "new",
      "created_at": "2026-01-28T10:00:00Z",
      "last_contacted_at": null
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 185,
    "total_pages": 10
  }
}
```

**GET /leads/{id}** - è·å–çº¿ç´¢è¯¦æƒ…
```bash
GET /leads/LEAD-202601-001

Response:
{
  "id": "LEAD-202601-001",
  "name": "å¼ ä¸‰",
  "email": "zhangsan@example.com",
  "phone": "+65 91234567",
  "company": "ABC Limited",
  "country": "Singapore",
  "service_types": ["Enterprise Setup", "Visa Planning"],
  "budget_range": "50-100k",
  "source_channel": "website_form",
  "inquiry_message": "å’¨è¯¢ä¼ä¸šæ³¨å†Œå’Œèº«ä»½è§„åˆ’",
  "assigned_to": {
    "id": "USR-002",
    "name": "æå››",
    "email": "lisi@company.com"
  },
  "status": "new",
  "tags": ["hot", "enterprise"],
  "created_at": "2026-01-28T10:00:00Z",
  "last_contacted_at": null,
  "notes": []
}
```

**PUT /leads/{id}** - æ›´æ–°çº¿ç´¢
```bash
PUT /leads/LEAD-202601-001
Content-Type: application/json

{
  "status": "in_progress",
  "tags": ["hot", "qualified"],
  "last_contacted_at": "2026-01-28T14:30:00Z"
}

Response: { "success": true, "lead": {...} }
```

**POST /leads/{id}/assign** - é‡æ–°åˆ†é…çº¿ç´¢
```bash
POST /leads/LEAD-202601-001/assign
Content-Type: application/json

{
  "assigned_to": "USR-003",
  "reason": "åœ°åŒºè½¬ç§»"
}

Response: { "success": true, "assigned_to": {...} }
```

#### é¡¹ç›®ç®¡ç†

**POST /projects** - åˆ›å»ºé¡¹ç›®
```bash
POST /projects
Authorization: Bearer <token>
Content-Type: application/json

{
  "opportunity_id": "OPP-001",
  "customer_id": "CUST-001",
  "project_type": "enterprise_setup",
  "service_modules": ["company_registration", "bank_account", "tax"],
  "start_date": "2026-02-01",
  "estimated_end_date": "2026-04-30",
  "budget": 50000,
  "currency": "SGD"
}

Response:
{
  "id": "PRJ-202601-001",
  "opportunity_id": "OPP-001",
  "customer_id": "CUST-001",
  "project_type": "enterprise_setup",
  "status": "active",
  "completion_percentage": 0,
  "created_at": "2026-01-28T10:00:00Z"
}
```

**GET /projects/{id}** - è·å–é¡¹ç›®è¯¦æƒ…
```bash
GET /projects/PRJ-202601-001

Response:
{
  "id": "PRJ-202601-001",
  "opportunity_id": "OPP-001",
  "customer_id": "CUST-001",
  "project_type": "enterprise_setup",
  "service_modules": ["company_registration", "bank_account", "tax"],
  "status": "active",
  "completion_percentage": 25,
  "start_date": "2026-02-01",
  "estimated_end_date": "2026-04-30",
  "budget": 50000,
  "currency": "SGD",
  "sub_projects": [
    {
      "id": "SUBPRJ-001",
      "type": "company_registration",
      "status": "in_progress",
      "completion_percentage": 40,
      "assigned_to": { "id": "USR-002", "name": "æå››" },
      "tasks": [...]
    }
  ],
  "created_at": "2026-01-28T10:00:00Z",
  "updated_at": "2026-01-28T15:00:00Z"
}
```

#### ä»»åŠ¡ç®¡ç†

**POST /tasks** - åˆ›å»ºä»»åŠ¡
```bash
POST /tasks
Content-Type: application/json

{
  "project_id": "PRJ-202601-001",
  "title": "æäº¤å…¬å¸æ³¨å†Œææ–™",
  "description": "å‡†å¤‡å¹¶æäº¤å…¬å¸æ³¨å†Œæ‰€éœ€æ–‡ä»¶",
  "assigned_to": "USR-002",
  "due_date": "2026-02-15",
  "priority": "high",
  "dependencies": [],
  "tags": ["registration", "urgent"]
}

Response:
{
  "id": "TASK-202601-001",
  "project_id": "PRJ-202601-001",
  "title": "æäº¤å…¬å¸æ³¨å†Œææ–™",
  "assigned_to": { "id": "USR-002", "name": "æå››" },
  "status": "not_started",
  "due_date": "2026-02-15",
  "priority": "high",
  "created_at": "2026-01-28T10:00:00Z"
}
```

**GET /tasks** - åˆ—å‡ºä»»åŠ¡ï¼ˆæ”¯æŒè¿‡æ»¤ï¼‰
```bash
GET /tasks?assigned_to=USR-002&status=in_progress&project_id=PRJ-202601-001

Response:
{
  "data": [
    {
      "id": "TASK-202601-001",
      "project_id": "PRJ-202601-001",
      "title": "æäº¤å…¬å¸æ³¨å†Œææ–™",
      "assigned_to": { "id": "USR-002", "name": "æå››" },
      "status": "in_progress",
      "due_date": "2026-02-15",
      "priority": "high",
      "created_at": "2026-01-28T10:00:00Z"
    }
  ],
  "pagination": { "page": 1, "limit": 20, "total": 45 }
}
```

**PUT /tasks/{id}** - æ›´æ–°ä»»åŠ¡çŠ¶æ€
```bash
PUT /tasks/TASK-202601-001
Content-Type: application/json

{
  "status": "done",
  "completed_at": "2026-02-10T16:30:00Z",
  "notes": "å·²æˆåŠŸæäº¤æ³¨å†Œææ–™ï¼Œæ­£åœ¨ç­‰å¾…æ”¿åºœå®¡æ‰¹"
}

Response: { "success": true, "task": {...} }
```

#### æ–‡æ¡£ç®¡ç†

**POST /documents/upload** - ä¸Šä¼ æ–‡ä»¶
```bash
POST /documents/upload
Authorization: Bearer <token>
Content-Type: multipart/form-data

Form Data:
  - file: <binary>
  - entity_type: "customer" | "project"
  - entity_id: "CUST-001"
  - document_type: "passport" | "contract" | "certificate"
  - access_level: "private" | "team" | "public"

Response:
{
  "id": "DOC-202601-001",
  "file_name": "passport.pdf",
  "file_size": 1024000,
  "file_type": "pdf",
  "uploaded_by": { "id": "USR-001", "name": "å¼ ä¸‰" },
  "entity_type": "customer",
  "entity_id": "CUST-001",
  "document_type": "passport",
  "access_level": "private",
  "created_at": "2026-01-28T10:00:00Z",
  "url": "https://s3.amazonaws.com/documents/DOC-202601-001/passport.pdf"
}
```

**GET /documents** - åˆ—å‡ºæ–‡ä»¶
```bash
GET /documents?entity_type=project&entity_id=PRJ-202601-001

Response:
{
  "data": [
    {
      "id": "DOC-202601-001",
      "file_name": "company_registration_certificate.pdf",
      "file_type": "pdf",
      "document_type": "certificate",
      "uploaded_by": { "id": "USR-002", "name": "æå››" },
      "created_at": "2026-01-28T10:00:00Z",
      "url": "https://s3.amazonaws.com/documents/DOC-202601-001/..."
    }
  ]
}
```

#### é€šçŸ¥ä¸æ¶ˆæ¯

**POST /notifications/webhook** - Webhookå›è°ƒï¼ˆç”¨äºå®˜ç½‘è¡¨å•ï¼‰
```bash
POST /notifications/webhook
X-Webhook-Secret: webhook_signing_secret
Content-Type: application/json

{
  "event": "lead_created",
  "lead_id": "LEAD-202601-001",
  "contact_name": "ç‹å››",
  "email": "wang@example.com",
  "timestamp": "2026-01-28T10:00:00Z"
}

Response: { "success": true }
```

**POST /notifications/email** - å‘é€é‚®ä»¶
```bash
POST /notifications/email
Content-Type: application/json

{
  "to": "customer@example.com",
  "template": "form_submission_confirmation",
  "variables": {
    "name": "ç‹å››",
    "lead_id": "LEAD-202601-001"
  },
  "language": "zh-CN"
}

Response: { "success": true, "message_id": "MSG-001" }
```

### APIæ–‡æ¡£å·¥å…·

**OpenAPI 3.0è§„èŒƒ** (è‡ªåŠ¨ç”Ÿæˆ)
```bash
# ä½¿ç”¨Swaggerè‡ªåŠ¨ç”ŸæˆAPIæ–‡æ¡£
GET https://api.crm.com/v1/docs/swagger.json
GET https://api.crm.com/v1/docs/swagger-ui.html
```

**Postmané›†åˆ**
- å¯¼å…¥åœ°å€ï¼š`https://api.crm.com/v1/postman-collection.json`
- åŒ…å«æ‰€æœ‰APIç«¯ç‚¹ã€ç¤ºä¾‹è¯·æ±‚/å“åº”ã€è®¤è¯é…ç½®

---

## æ•°æ®æ¨¡å‹

### æ ¸å¿ƒå®ä½“ä¸å…³ç³»

#### User (ç”¨æˆ·)
```sql
CREATE TABLE users (
  id UUID PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  email VARCHAR(255) UNIQUE NOT NULL,
  phone VARCHAR(20),
  password_hash VARCHAR(255),
  role ENUM('admin', 'manager', 'sales_consultant', 'delivery_manager', 'compliance', 'finance', 'customer'),
  department VARCHAR(100),
  avatar_url TEXT,
  status ENUM('active', 'inactive', 'suspended'),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### Lead (çº¿ç´¢)
```sql
CREATE TABLE leads (
  id VARCHAR(50) PRIMARY KEY,
  contact_name VARCHAR(255) NOT NULL,
  email VARCHAR(255),
  phone VARCHAR(20),
  company_name VARCHAR(255),
  country VARCHAR(100),
  service_types JSON,  -- ["Enterprise Setup", "Visa Planning"]
  budget_range VARCHAR(50),
  source_channel VARCHAR(100),  -- "website_form", "referral", "whatsapp"
  inquiry_message TEXT,
  assigned_to UUID REFERENCES users(id),
  status ENUM('new', 'contacted', 'qualified', 'in_progress', 'lost', 'converted'),
  tags JSON,  -- ["hot", "enterprise"]
  score INT DEFAULT 0,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  last_contacted_at TIMESTAMP,
  INDEX (assigned_to, status, created_at)
);
```

#### Customer (å®¢æˆ·)
```sql
CREATE TABLE customers (
  id VARCHAR(50) PRIMARY KEY,
  lead_id VARCHAR(50) UNIQUE REFERENCES leads(id),
  family_members JSON,  -- [{ name, relationship, dob, nationality }]
  company_info JSON,  -- { name, registration, industry, employees }
  kycstatus ENUM('pending', 'approved', 'rejected', 'review'),
  risk_grade ENUM('low', 'medium', 'high', 'critical'),
  account_manager UUID REFERENCES users(id),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  lifecycle_stage VARCHAR(50)
);
```

#### Opportunity (å•†æœº)
```sql
CREATE TABLE opportunities (
  id VARCHAR(50) PRIMARY KEY,
  customer_id VARCHAR(50) REFERENCES customers(id),
  proposal_id VARCHAR(50) REFERENCES proposals(id),
  stage ENUM('lead', 'discovery', 'proposal', 'negotiation', 'won', 'lost'),
  value DECIMAL(15, 2),
  currency VARCHAR(3),
  expected_close_date DATE,
  owner_id UUID REFERENCES users(id),
  description TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX (customer_id, stage, expected_close_date)
);
```

#### Proposal (æ–¹æ¡ˆ)
```sql
CREATE TABLE proposals (
  id VARCHAR(50) PRIMARY KEY,
  opportunity_id VARCHAR(50) REFERENCES opportunities(id),
  customer_id VARCHAR(50) REFERENCES customers(id),
  modules JSON,  -- ["company_registration", "visa_planning", "tax"]
  total_fee DECIMAL(15, 2),
  currency VARCHAR(3),
  payment_schedule JSON,  -- [{ milestone, percentage, due_date }]
  status ENUM('draft', 'review', 'approved', 'sent', 'signed', 'rejected'),
  approval_chain JSON,  -- [{ role, status, approved_by, approved_at }]
  signed_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### Project (é¡¹ç›®)
```sql
CREATE TABLE projects (
  id VARCHAR(50) PRIMARY KEY,
  opportunity_id VARCHAR(50) REFERENCES opportunities(id),
  customer_id VARCHAR(50) REFERENCES customers(id),
  project_type VARCHAR(50),  -- "enterprise_setup", "visa_planning", "tax"
  status ENUM('planning', 'active', 'on_hold', 'completed', 'archived'),
  completion_percentage INT DEFAULT 0,
  start_date DATE,
  estimated_end_date DATE,
  actual_end_date DATE,
  budget DECIMAL(15, 2),
  currency VARCHAR(3),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX (customer_id, status, estimated_end_date)
);
```

#### Task (ä»»åŠ¡)
```sql
CREATE TABLE tasks (
  id VARCHAR(50) PRIMARY KEY,
  project_id VARCHAR(50) REFERENCES projects(id),
  title VARCHAR(255) NOT NULL,
  description TEXT,
  assigned_to UUID REFERENCES users(id),
  status ENUM('not_started', 'in_progress', 'blocked', 'done', 'cancelled'),
  priority ENUM('low', 'medium', 'high', 'critical'),
  due_date DATE,
  sla_hours INT,
  completed_at TIMESTAMP,
  dependencies JSON,  -- [{ task_id, type: "blocks" | "depends_on" }]
  blocking_reason VARCHAR(100),
  deliverable_type VARCHAR(50),  -- "document", "checklist", "approval"
  tags JSON,
  time_spent_hours INT,
  notes TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX (assigned_to, status, due_date)
);
```

#### Document (æ–‡ä»¶)
```sql
CREATE TABLE documents (
  id VARCHAR(50) PRIMARY KEY,
  file_name VARCHAR(255) NOT NULL,
  file_path TEXT,
  file_size INT,
  file_type VARCHAR(50),
  entity_type VARCHAR(50),  -- "customer", "project", "opportunity"
  entity_id VARCHAR(50),
  document_type VARCHAR(100),  -- "passport", "contract", "certificate"
  uploaded_by UUID REFERENCES users(id),
  access_level ENUM('private', 'team', 'public'),
  version INT DEFAULT 1,
  expires_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX (entity_type, entity_id, document_type)
);
```

#### Activity (æ´»åŠ¨è®°å½•)
```sql
CREATE TABLE activities (
  id UUID PRIMARY KEY,
  actor_id UUID REFERENCES users(id),
  action_type VARCHAR(100),  -- "created", "updated", "deleted", "approved"
  entity_type VARCHAR(50),  -- "lead", "customer", "project", "task"
  entity_id VARCHAR(50),
  changes JSON,  -- { field: { old_value, new_value } }
  description TEXT,
  timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX (entity_type, entity_id, timestamp)
);
```

### ERå›¾

```
User (1)
  â”œâ”€â”€ (1:N) ---- assigned_to ---- (N) Lead
  â”œâ”€â”€ (1:N) ---- account_manager ---- (N) Customer
  â”œâ”€â”€ (1:N) ---- owner_id ---- (N) Opportunity
  â”œâ”€â”€ (1:N) ---- assigned_to ---- (N) Task
  â”œâ”€â”€ (1:N) ---- uploaded_by ---- (N) Document
  â””â”€â”€ (1:N) ---- actor_id ---- (N) Activity

Lead (1)
  â””â”€â”€ (1:1) ---- (converts to) ---- (1) Customer

Customer (1)
  â””â”€â”€ (1:N) ---- (has) ---- (N) Opportunity

Opportunity (1)
  â”œâ”€â”€ (1:1) ---- (references) ---- (1) Proposal
  â””â”€â”€ (1:N) ---- (manages) ---- (N) Project

Proposal (1)
  â””â”€â”€ (N) Opportunity (å¤šå¯¹ä¸€)

Project (1)
  â”œâ”€â”€ (1:N) ---- (contains) ---- (N) Task
  â””â”€â”€ (1:N) ---- (stores) ---- (N) Document

Task (1)
  â””â”€â”€ (M:N) ---- (dependencies) ---- (M) Task

Document (1)
  â””â”€â”€ (N) [linked to] (1) Entity (Customer/Project/Opportunity)
```

---

## è®¤è¯ä¸æˆæƒ

### è®¤è¯æµç¨‹

#### 1. ç”¨æˆ·ç™»å½•

```
å®˜ç½‘/ç®¡ç†ç«¯/å®¢æˆ·ç«¯
    â†“ (æäº¤é‚®ç®±+å¯†ç )
    â†“
POST /auth/login
    â†“ (éªŒè¯å‡­è¯)
    â†“
Token Service
    â†“ (ç”ŸæˆJWT)
    â†“
è¿”å›ï¼š
  - access_token (15åˆ†é’Ÿæœ‰æ•ˆæœŸ)
  - refresh_token (7å¤©æœ‰æ•ˆæœŸ)
  - user_role
    â†“
å‰ç«¯å­˜å‚¨Token (localStorage / sessionStorage)
    â†“
åç»­è¯·æ±‚é™„åŠ ï¼šAuthorization: Bearer <token>
```

#### 2. OAuth 2.0 ç™»å½•ï¼ˆå®˜ç½‘ â†’ CRMï¼‰

```
å®˜ç½‘ç”¨æˆ·
    â†“ (ç‚¹å‡»"è¿›å…¥å®¢æˆ·ä¸­å¿ƒ")
    â†“
é‡å®šå‘åˆ°ï¼šhttps://crm.com/auth/oauth/authorize?
  client_id=website_app_id&
  redirect_uri=https://website.com/callback&
  scope=customer_portal&
  state=random_state_string
    â†“
CRMç™»å½•é¡µ (å¦‚æœæœªè®¤è¯)
    â†“
éªŒè¯æˆåŠŸ
    â†“
ç”Ÿæˆæˆæƒç ï¼šcode=auth_code_xyz
    â†“
é‡å®šå‘å›ï¼šhttps://website.com/callback?code=auth_code_xyz&state=random_state_string
    â†“
å®˜ç½‘åç«¯éªŒè¯stateï¼Œäº¤æ¢æˆæƒç 
    â†“
POST https://crm.com/auth/oauth/token {
  grant_type: "authorization_code",
  code: "auth_code_xyz",
  client_id: "website_app_id",
  client_secret: "secret",
  redirect_uri: "https://website.com/callback"
}
    â†“
CRMè¿”å› access_token
    â†“
å®˜ç½‘å‰ç«¯å­˜å‚¨Token
    â†“
å‰ç«¯è‡ªåŠ¨é‡å®šå‘åˆ°å®¢æˆ·ä¸­å¿ƒ
```

### æˆæƒï¼ˆRBACï¼‰

#### è§’è‰²å®šä¹‰

| è§’è‰² | æè¿° | æƒé™ |
|------|------|------|
| **admin** | ç³»ç»Ÿç®¡ç†å‘˜ | æ‰€æœ‰åŠŸèƒ½ï¼ŒåŒ…æ‹¬ç³»ç»Ÿè®¾ç½®ã€ç”¨æˆ·ç®¡ç† |
| **manager** | éƒ¨é—¨ç»ç† | æŸ¥çœ‹å›¢é˜Ÿæ•°æ®ã€ç®¡ç†å®¡æ‰¹ã€æŠ¥è¡¨åˆ†æ |
| **sales_consultant** | é”€å”®é¡¾é—® | çº¿ç´¢ç®¡ç†ã€å®¢æˆ·è”ç³»ã€å‡ºæµ·æ–¹æ¡ˆ |
| **delivery_manager** | äº¤ä»˜ç»ç† | é¡¹ç›®æ‰§è¡Œã€ä»»åŠ¡åˆ†é…ã€è¿›åº¦è¿½è¸ª |
| **compliance** | åˆè§„/æ³•åŠ¡ | KYCå®¡æ‰¹ã€æ–‡ä»¶å®¡æ ¸ã€é£é™©è¯„ä¼° |
| **finance** | è´¢åŠ¡ | æ”¶æ¬¾ç®¡ç†ã€è´¢åŠ¡æŠ¥è¡¨ã€æˆæœ¬åˆ†æ |
| **customer** | å®¢æˆ·ï¼ˆå·²è®¤è¯ï¼‰ | æŸ¥çœ‹è‡ªå·±çš„é¡¹ç›®ã€ä¸Šä¼ æ–‡ä»¶ã€ç­¾ç½²æ–‡ä»¶ |

#### æƒé™çŸ©é˜µ

```
åŠŸèƒ½æ¨¡å— / æ“ä½œ        | admin | manager | sales | delivery | compliance | finance | customer
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
çº¿ç´¢ç®¡ç†
  - åˆ›å»ºçº¿ç´¢            |  âœ“   |   âœ“   |  âœ“  |    âœ“    |     âœ—     |    âœ—   |   âœ—
  - æŸ¥çœ‹æ‰€æœ‰çº¿ç´¢        |  âœ“   |   âœ“   |  âœ“  |    âœ—    |     âœ—     |    âœ—   |   âœ—
  - æŸ¥çœ‹åˆ†é…çš„çº¿ç´¢      |  âœ“   |   âœ“   |  âœ“  |    âœ—    |     âœ—     |    âœ—   |   âœ—
  - åˆ†é…çº¿ç´¢            |  âœ“   |   âœ“   |  âœ—  |    âœ—    |     âœ—     |    âœ—   |   âœ—

å®¢æˆ·ç®¡ç†
  - æŸ¥çœ‹å®¢æˆ·            |  âœ“   |   âœ“   |  âœ“  |    âœ“    |     âœ“     |    âœ“   |   âœ“*
  - ç¼–è¾‘å®¢æˆ·ä¿¡æ¯        |  âœ“   |   âœ“   |  âœ“  |    âœ“    |     âœ—     |    âœ—   |   âœ“*

é¡¹ç›®ç®¡ç†
  - åˆ›å»ºé¡¹ç›®            |  âœ“   |   âœ“   |  âœ“  |    âœ“    |     âœ—     |    âœ—   |   âœ—
  - æŸ¥çœ‹é¡¹ç›®            |  âœ“   |   âœ“   |  âœ“  |    âœ“    |     âœ“     |    âœ“   |   âœ“*
  - æ›´æ–°é¡¹ç›®è¿›åº¦        |  âœ“   |   âœ“   |  âœ“  |    âœ“    |     âœ—     |    âœ—   |   âœ—

ä»»åŠ¡ç®¡ç†
  - åˆ›å»ºä»»åŠ¡            |  âœ“   |   âœ“   |  âœ“  |    âœ“    |     âœ“     |    âœ—   |   âœ—
  - æŸ¥çœ‹ä»»åŠ¡            |  âœ“   |   âœ“   |  âœ“  |    âœ“    |     âœ“     |    âœ“   |   âœ“*
  - å®Œæˆä»»åŠ¡            |  âœ“   |   âœ“   |  âœ“  |    âœ“    |     âœ“     |    âœ“   |   âœ—

æ–‡æ¡£ç®¡ç†
  - ä¸Šä¼ æ–‡ä»¶            |  âœ“   |   âœ“   |  âœ“  |    âœ“    |     âœ“     |    âœ“   |   âœ“
  - æŸ¥çœ‹æ–‡ä»¶            |  âœ“   |   âœ“   |  âœ“  |    âœ“    |     âœ“     |    âœ“   |   âœ“*
  - åˆ é™¤æ–‡ä»¶            |  âœ“   |   âœ“   |  âœ“  |    âœ“    |     âœ—     |    âœ—   |   âœ—

å®¡æ‰¹æµç¨‹
  - å‘èµ·å®¡æ‰¹            |  âœ“   |   âœ“   |  âœ“  |    âœ“    |     âœ“     |    âœ—   |   âœ—
  - å®¡æ‰¹æƒé™            |  âœ“   |   âœ“   |  âœ—  |    âœ—    |     âœ“     |    âœ—   |   âœ—

è´¢åŠ¡ç®¡ç†
  - æŸ¥çœ‹æ”¶å…¥            |  âœ“   |   âœ“   |  âœ“  |    âœ—    |     âœ—     |    âœ“   |   âœ—
  - ç¡®è®¤æ”¶æ¬¾            |  âœ“   |   âœ—   |  âœ—  |    âœ—    |     âœ—     |    âœ“   |   âœ—

æŠ¥è¡¨åˆ†æ
  - æŸ¥çœ‹æŠ¥è¡¨            |  âœ“   |   âœ“   |  âœ“  |    âœ“    |     âœ“     |    âœ“   |   âœ—
  - å¯¼å‡ºæŠ¥è¡¨            |  âœ“   |   âœ“   |  âœ“  |    âœ—    |     âœ—     |    âœ“   |   âœ—

*å®¢æˆ·åªèƒ½æŸ¥çœ‹/ç¼–è¾‘è‡ªå·±çš„æ•°æ®
```

### Tokenç®¡ç†

**JWT Tokenç»“æ„**

```json
{
  "header": {
    "alg": "HS256",
    "typ": "JWT"
  },
  "payload": {
    "sub": "USR-001",            // ç”¨æˆ·ID
    "name": "å¼ ä¸‰",
    "email": "zhangsan@example.com",
    "role": "sales_consultant",
    "department": "sales",
    "iat": 1704067200,            // ç­¾å‘æ—¶é—´
    "exp": 1704070800,            // è¿‡æœŸæ—¶é—´ (15åˆ†é’Ÿ)
    "iss": "crm.company.com",
    "aud": "crm_app"
  }
}
```

**Tokenåˆ·æ–°æµç¨‹**

```
å‰ç«¯æ£€æµ‹Tokenå³å°†è¿‡æœŸ
    â†“
POST /auth/refresh
  Authorization: Bearer <access_token>
  X-Refresh-Token: <refresh_token>
    â†“
æœåŠ¡å™¨éªŒè¯åˆ·æ–°ä»¤ç‰Œæœ‰æ•ˆæœŸ
    â†“
ç”Ÿæˆæ–°çš„access_token
    â†“
è¿”å›æ–°Tokenï¼Œåˆ·æ–°ä»¤ç‰Œä¿æŒä¸å˜
    â†“
å‰ç«¯æ›´æ–°localStorageä¸­çš„Token
```

---

## éƒ¨ç½²ä¸è¿ç»´

### éƒ¨ç½²æ¶æ„

#### å¼€å‘ç¯å¢ƒ (Development)
```
â”œâ”€ å®˜ç½‘Dev
â”‚  â””â”€ Vue 3 å¼€å‘æœåŠ¡å™¨ (http://localhost:3000)
â”œâ”€ ç®¡ç†ç«¯Dev
â”‚  â””â”€ Vue 3 å¼€å‘æœåŠ¡å™¨ (http://localhost:3001)
â”œâ”€ å®¢æˆ·ç«¯Dev
â”‚  â””â”€ Vue 3 å¼€å‘æœåŠ¡å™¨ (http://localhost:3002)
â”œâ”€ API Dev
â”‚  â””â”€ Node.js å¼€å‘æœåŠ¡å™¨ (http://localhost:8000)
â””â”€ æ•°æ®åº“
   â””â”€ PostgreSQL (localhost:5432)
   â””â”€ Redis (localhost:6379)
```

#### æµ‹è¯•ç¯å¢ƒ (Staging)
```
AWS / é˜¿é‡Œäº‘
â”œâ”€ å®˜ç½‘ (https://website-test.com)
â”œâ”€ ç®¡ç†ç«¯ (https://crm-test.company.com)
â”œâ”€ å®¢æˆ·ç«¯ (https://portal-test.company.com)
â”œâ”€ API Gateway (https://api-test.company.com)
â”œâ”€ å¾®æœåŠ¡é›†ç¾¤ (Kubernetes)
â”œâ”€ PostgreSQL (RDS)
â”œâ”€ Redis (ElastiCache / é˜¿é‡Œäº‘ç¼“å­˜)
â””â”€ S3 / OSS (æ–‡ä»¶å­˜å‚¨)
```

#### ç”Ÿäº§ç¯å¢ƒ (Production)
```
AWS / é˜¿é‡Œäº‘ (å¤šå¯ç”¨åŒºé«˜å¯ç”¨)
â”œâ”€ CDN (Cloudflare / CloudFront)
â”‚  â”œâ”€ å®˜ç½‘é™æ€èµ„æº
â”‚  â”œâ”€ ç®¡ç†ç«¯é™æ€èµ„æº
â”‚  â””â”€ å®¢æˆ·ç«¯é™æ€èµ„æº
â”œâ”€ API Gateway (Kong / Traefik)
â”‚  â”œâ”€ é™æµ/é€Ÿç‡æ§åˆ¶
â”‚  â”œâ”€ è®¤è¯ä¸­é—´ä»¶
â”‚  â””â”€ æ—¥å¿—èšåˆ
â”œâ”€ å¾®æœåŠ¡é›†ç¾¤ (Kubernetes HA)
â”‚  â”œâ”€ User Service (3 replicas)
â”‚  â”œâ”€ Lead Service (3 replicas)
â”‚  â”œâ”€ Project Service (3 replicas)
â”‚  â”œâ”€ Document Service (3 replicas)
â”‚  â”œâ”€ Task Service (3 replicas)
â”‚  â”œâ”€ Notification Service (2 replicas)
â”‚  â””â”€ Analytics Service (2 replicas)
â”œâ”€ æ•°æ®å­˜å‚¨
â”‚  â”œâ”€ PostgreSQL (ä¸»å¤‡é«˜å¯ç”¨)
â”‚  â”œâ”€ Redisé›†ç¾¤ (Sentinel HA)
â”‚  â”œâ”€ Elasticsearch (é›†ç¾¤)
â”‚  â””â”€ S3 / OSS (å¯¹è±¡å­˜å‚¨ + å¤‡ä»½)
â”œâ”€ æ¶ˆæ¯é˜Ÿåˆ— (RabbitMQ é›†ç¾¤)
â”œâ”€ ç›‘æ§å’Œæ—¥å¿—
â”‚  â”œâ”€ Prometheus (æŒ‡æ ‡æ”¶é›†)
â”‚  â”œâ”€ Grafana (å¯è§†åŒ–ä»ªè¡¨æ¿)
â”‚  â”œâ”€ ELK Stack (æ—¥å¿—èšåˆ)
â”‚  â””â”€ DataDog / New Relic (APM)
â””â”€ å¤‡ä»½å’Œç¾éš¾æ¢å¤
   â”œâ”€ æ•°æ®åº“æ—¥å¿—å¤‡ä»½ (æ¯å°æ—¶)
   â”œâ”€ å®Œæ•´å¤‡ä»½ (æ¯å¤©)
   â””â”€ å¼‚åœ°ç¾å¤‡ (è·¨åŒºåŸŸ)
```

### DockeråŒ–éƒ¨ç½²

#### å‰ç«¯ Dockerfile (å®˜ç½‘/ç®¡ç†ç«¯/å®¢æˆ·ç«¯)

```dockerfile
# æ„å»ºé˜¶æ®µ
FROM node:18-alpine AS build

WORKDIR /app

# å¤åˆ¶ä¾èµ–æ–‡ä»¶
COPY package.json package-lock.json ./

# å®‰è£…ä¾èµ–
RUN npm ci

# å¤åˆ¶æºä»£ç 
COPY . .

# æ„å»ºåº”ç”¨
RUN npm run build

# è¿è¡Œé˜¶æ®µ
FROM nginx:alpine

# å¤åˆ¶æ„å»ºäº§ç‰©
COPY --from=build /app/dist /usr/share/nginx/html

# å¤åˆ¶nginxé…ç½®
COPY nginx.conf /etc/nginx/conf.d/default.conf

# æš´éœ²ç«¯å£
EXPOSE 80

# å¯åŠ¨nginx
CMD ["nginx", "-g", "daemon off;"]
```

#### åç«¯ Dockerfile (Node.js API)

```dockerfile
FROM node:18-alpine

WORKDIR /app

# å®‰è£…ä¾èµ–
COPY package.json package-lock.json ./
RUN npm ci --only=production

# å¤åˆ¶æºä»£ç 
COPY . .

# ç¼–è¯‘TypeScript
RUN npm run build

# æš´éœ²ç«¯å£
EXPOSE 8000

# å¯åŠ¨åº”ç”¨
CMD ["node", "dist/index.js"]
```

#### Docker Compose (æœ¬åœ°å¼€å‘)

```yaml
version: '3.8'

services:
  # PostgreSQL
  postgres:
    image: postgres:15-alpine
    environment:
      POSTGRES_USER: crm_user
      POSTGRES_PASSWORD: password
      POSTGRES_DB: crm_db
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U crm_user"]
      interval: 10s
      timeout: 5s
      retries: 5

  # Redis
  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 10s
      timeout: 5s
      retries: 5

  # APIæœåŠ¡
  api:
    build: ./backend
    ports:
      - "8000:8000"
    environment:
      DATABASE_URL: postgresql://crm_user:password@postgres:5432/crm_db
      REDIS_URL: redis://redis:6379
      NODE_ENV: development
    depends_on:
      postgres:
        condition: service_healthy
      redis:
        condition: service_healthy
    volumes:
      - ./backend:/app
      - /app/node_modules

  # å®˜ç½‘å‰ç«¯
  website:
    build: ./frontend-website
    ports:
      - "3000:80"
    volumes:
      - ./frontend-website:/app

  # ç®¡ç†ç«¯å‰ç«¯
  management:
    build: ./frontend-management
    ports:
      - "3001:80"
    volumes:
      - ./frontend-management:/app

  # å®¢æˆ·ç«¯å‰ç«¯
  customer:
    build: ./frontend-customer
    ports:
      - "3002:80"
    volumes:
      - ./frontend-customer:/app

volumes:
  postgres_data:
```

### Kuberneteséƒ¨ç½² (ç”Ÿäº§)

#### åç«¯æœåŠ¡éƒ¨ç½² (user-service.yaml)

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: user-service
  namespace: crm
  labels:
    app: user-service
    version: v1

spec:
  replicas: 3
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0

  selector:
    matchLabels:
      app: user-service

  template:
    metadata:
      labels:
        app: user-service
        version: v1

    spec:
      containers:
      - name: user-service
        image: registry.company.com/user-service:latest
        imagePullPolicy: Always
        ports:
        - containerPort: 8000
          name: http

        env:
        - name: NODE_ENV
          value: "production"
        - name: DATABASE_URL
          valueFrom:
            secretKeyRef:
              name: db-credentials
              key: connection-string
        - name: REDIS_URL
          valueFrom:
            configMapKeyRef:
              name: redis-config
              key: url

        livenessProbe:
          httpGet:
            path: /health
            port: 8000
          initialDelaySeconds: 30
          periodSeconds: 10
          timeoutSeconds: 5
          failureThreshold: 3

        readinessProbe:
          httpGet:
            path: /ready
            port: 8000
          initialDelaySeconds: 10
          periodSeconds: 5
          timeoutSeconds: 3
          failureThreshold: 3

        resources:
          requests:
            cpu: 100m
            memory: 256Mi
          limits:
            cpu: 500m
            memory: 512Mi

---
apiVersion: v1
kind: Service
metadata:
  name: user-service
  namespace: crm
spec:
  selector:
    app: user-service
  ports:
  - protocol: TCP
    port: 80
    targetPort: 8000
  type: ClusterIP
```

#### Ingressé…ç½®

```yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: crm-ingress
  namespace: crm
  annotations:
    kubernetes.io/ingress.class: "nginx"
    cert-manager.io/cluster-issuer: "letsencrypt-prod"

spec:
  tls:
  - hosts:
    - api.company.com
    secretName: api-tls

  rules:
  - host: api.company.com
    http:
      paths:
      - path: /v1
        pathType: Prefix
        backend:
          service:
            name: api-gateway
            port:
              number: 80
```

### CI/CDæµç¨‹

#### GitHub Actionså·¥ä½œæµ (.github/workflows/deploy.yml)

```yaml
name: Deploy to Production

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3

    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'

    - name: Install dependencies
      run: npm ci

    - name: Run tests
      run: npm run test

    - name: Run linter
      run: npm run lint

    - name: Build
      run: npm run build

  build-and-push:
    needs: test
    if: github.ref == 'refs/heads/main'
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3

    - name: Build Docker image
      run: |
        docker build -t registry.company.com/user-service:${{ github.sha }} .
        docker tag registry.company.com/user-service:${{ github.sha }} registry.company.com/user-service:latest

    - name: Push to registry
      run: |
        echo ${{ secrets.DOCKER_REGISTRY_PASSWORD }} | docker login -u ${{ secrets.DOCKER_REGISTRY_USER }} --password-stdin registry.company.com
        docker push registry.company.com/user-service:${{ github.sha }}
        docker push registry.company.com/user-service:latest

  deploy:
    needs: build-and-push
    if: github.ref == 'refs/heads/main'
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3

    - name: Configure kubectl
      run: |
        mkdir -p $HOME/.kube
        echo "${{ secrets.KUBE_CONFIG }}" | base64 -d > $HOME/.kube/config
        chmod 600 $HOME/.kube/config

    - name: Deploy to Kubernetes
      run: |
        kubectl set image deployment/user-service user-service=registry.company.com/user-service:${{ github.sha }} -n crm
        kubectl rollout status deployment/user-service -n crm
```

### ç›‘æ§ä¸å‘Šè­¦

#### Prometheusé…ç½® (prometheus.yml)

```yaml
global:
  scrape_interval: 15s
  evaluation_interval: 15s

alerting:
  alertmanagers:
    - static_configs:
        - targets: ['alertmanager:9093']

rule_files:
  - 'alert_rules.yml'

scrape_configs:
  - job_name: 'api-services'
    static_configs:
      - targets: ['user-service:8000', 'lead-service:8000', 'project-service:8000']
    metrics_path: '/metrics'

  - job_name: 'kubernetes-pods'
    kubernetes_sd_configs:
      - role: pod
```

#### å‘Šè­¦è§„åˆ™ (alert_rules.yml)

```yaml
groups:
  - name: api_alerts
    rules:
    - alert: HighErrorRate
      expr: rate(http_requests_total{status=~"5.."}[5m]) > 0.05
      for: 5m
      annotations:
        summary: "High error rate detected"
        description: "{{ $labels.instance }} has error rate above 5%"

    - alert: ServiceDown
      expr: up{job="api-services"} == 0
      for: 1m
      annotations:
        summary: "Service is down"
        description: "{{ $labels.instance }} has been down for more than 1 minute"

    - alert: HighMemoryUsage
      expr: container_memory_usage_bytes / container_spec_memory_limit_bytes > 0.9
      for: 5m
      annotations:
        summary: "High memory usage"
        description: "{{ $labels.pod }} memory usage above 90%"
```

### æ—¥å¿—ç®¡ç†

#### ELK Stacké…ç½®

**Logstashé…ç½®** (logstash.conf)

```
input {
  tcp {
    port => 5000
    codec => json
  }
}

filter {
  if [type] == "api_log" {
    grok {
      match => { "message" => "%{TIMESTAMP_ISO8601:timestamp} %{LOGLEVEL:log_level} %{DATA:service} %{GREEDYDATA:message}" }
    }
  }
}

output {
  elasticsearch {
    hosts => ["elasticsearch:9200"]
    index => "logs-%{+YYYY.MM.dd}"
  }
}
```

### å¤‡ä»½ä¸æ¢å¤

#### æ•°æ®åº“å¤‡ä»½ç­–ç•¥

```bash
# æ¯æ—¥å…¨é‡å¤‡ä»½
0 2 * * * pg_dump -U crm_user -d crm_db -F c -f /backups/crm_$(date +\%Y\%m\%d).dump

# æ¯å°æ—¶å¢é‡å¤‡ä»½ (WAL)
0 * * * * pg_basebackup -U crm_user -Ft -z -D /backups/wal/$(date +\%Y\%m\%d\%H) -v

# å¤‡ä»½åˆ°S3
0 3 * * * aws s3 cp /backups/crm_$(date -d yesterday +\%Y\%m\%d).dump s3://backup-bucket/database/
```

#### æ¢å¤æµç¨‹

```bash
# ä»å¤‡ä»½æ¢å¤æ•°æ®åº“
pg_restore -U crm_user -d crm_db_recover /backups/crm_20260128.dump

# éªŒè¯æ¢å¤
psql -U crm_user -d crm_db_recover -c "SELECT COUNT(*) FROM leads;"

# å¦‚æœéªŒè¯æˆåŠŸï¼Œæ›¿æ¢ç”Ÿäº§æ•°æ®åº“
pg_dumpall -U crm_user | psql -U crm_user -d crm_db
```

---

## å¼€å‘ä¼˜å…ˆçº§

### é˜¶æ®µ1ï¼šMVPï¼ˆ8-12å‘¨ï¼‰

**ç›®æ ‡**ï¼šå»ºç«‹åŸºç¡€ä¸šåŠ¡æµç¨‹é—­ç¯ + å®˜ç½‘é›†æˆ + åç«¯æ¡†æ¶æ­å»º

**åç«¯å¼€å‘**
- âœ… Node.js + Express æ¡†æ¶æ­å»º
- âœ… PostgreSQL æ•°æ®åº“è®¾è®¡ä¸è¿ç§»
- âœ… JWT è®¤è¯ç³»ç»Ÿ
- âœ… User Service (ç”¨æˆ·ç®¡ç†)
- âœ… Lead Service (çº¿ç´¢CRUDã€å»é‡ã€åˆ†é…)
- âœ… Task Service (åŸºç¡€ä»»åŠ¡ç®¡ç†)
- âœ… Document Service (æ–‡ä»¶ä¸Šä¼ )
- âœ… Notification Service (é‚®ä»¶å‘é€)
- âœ… Webhook æ¥æ”¶ä¸å¤„ç† (å®˜ç½‘è¡¨å•)
- âœ… API æ–‡æ¡£ (Swagger/OpenAPI)

**å‰ç«¯å¼€å‘**
- âœ… **å®˜ç½‘** (å·²å®Œæˆ Vue 3)
- âœ… **ç®¡ç†ç«¯** (å¾…å¼€å‘ Vue 3)
  - çº¿ç´¢Dashboard
  - çº¿ç´¢ç®¡ç†é¡µé¢
  - ç®€å•ä»»åŠ¡çœ‹æ¿
  - åŸºç¡€æŠ¥è¡¨ï¼ˆçº¿ç´¢æ¥æºåˆ†æï¼‰
- âœ… **å®¢æˆ·ç«¯** (å¾…å¼€å‘ Vue 3)
  - ç™»å½•é¡µé¢
  - é¡¹ç›®è¿›åº¦çœ‹æ¿ï¼ˆç®€åŒ–ç‰ˆï¼‰
  - æ–‡ä»¶ä¸Šä¼ é¡µé¢
  - æ¶ˆæ¯ä¸­å¿ƒ

**é›†æˆå·¥ä½œ**
- âœ… å®˜ç½‘è¡¨å•Webhook â†’ CRMåç«¯
- âœ… å®˜ç½‘ç™»å½• â†’ CRMç®¡ç†ç«¯
- âœ… OAuth 2.0å•ç‚¹ç™»å½•ï¼ˆå®˜ç½‘ â†’ å®¢æˆ·ç«¯ï¼‰
- âœ… é‚®ä»¶é€šçŸ¥ï¼ˆè¡¨å•æäº¤ã€æ–°çº¿ç´¢åˆ†é…ï¼‰

**ä¸åŒ…å«**ï¼š
- âŒ é«˜çº§å·¥ä½œæµè‡ªåŠ¨åŒ–ï¼ˆå…ˆæ‰‹åŠ¨ï¼‰
- âŒ ç¬¬ä¸‰æ–¹é›†æˆï¼ˆé™¤Gmailï¼‰
- âŒ é«˜çº§BIå’Œé¢„æµ‹åˆ†æ
- âŒ AIåŠ©æ‰‹

---

### é˜¶æ®µ2ï¼šå®Œæ•´ä¸šåŠ¡æµç¨‹ï¼ˆ12-16å‘¨ï¼‰

**ç›®æ ‡**ï¼šå…¨é¢è¦†ç›–äº¤ä»˜å’Œè¿è¥

**åç«¯å¼€å‘**
- âœ… Opportunity Service (å•†æœº & æ–¹æ¡ˆ)
- âœ… Project Service (é¡¹ç›® & å·¥ä½œæµç¼–æ’)
- âœ… Proposal è‡ªåŠ¨ç”Ÿæˆå’Œå®¡æ‰¹æµ
- âœ… å·¥ä½œæµå¼•æ“ (è‡ªåŠ¨åŒ–ä»»åŠ¡ç”Ÿæˆ)
- âœ… è´¢åŠ¡ç®¡ç† (æ”¶æ¬¾ã€æˆæœ¬ã€åˆ©æ¶¦)
- âœ… é«˜çº§æŠ¥è¡¨ (BI Dashboard)
- âœ… Redis ç¼“å­˜é›†æˆ
- âœ… RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—

**å‰ç«¯å¼€å‘**
- âœ… **ç®¡ç†ç«¯å¢å¼º**
  - Discovery å·¥ä½œæµé¡µé¢
  - Proposal ç”Ÿæˆå’Œå®¡æ‰¹
  - Project Dashboard
  - è´¢åŠ¡ç®¡ç†é¡µé¢
  - é«˜çº§æŠ¥è¡¨å’Œå¯¼å‡º
- âœ… **å®¢æˆ·ç«¯å¢å¼º**
  - ä»»åŠ¡è¿½è¸ª
  - æ–‡ä»¶ç­¾ç½²é›†æˆ
  - æ”¯æŒå·¥å•ç³»ç»Ÿ
  - ä¸ªäººèµ„æ–™ç®¡ç†

**åŸºç¡€è®¾æ–½**
- âœ… DockeråŒ–éƒ¨ç½²
- âœ… Kubernetes ç¼–æ’
- âœ… CI/CDæµç¨‹ (GitHub Actions)
- âœ… ç›‘æ§å‘Šè­¦ (Prometheus + Grafana)

---

### é˜¶æ®µ3ï¼šå¹³å°ä¼˜åŒ–ï¼ˆ16-20å‘¨ï¼‰

**ç›®æ ‡**ï¼šç”¨æˆ·ä½“éªŒæå‡å’Œæ‰©å±•åŠŸèƒ½

- âœ… AIåŠ©æ‰‹ï¼ˆä¼šè®®çºªè¦è‡ªåŠ¨ç”Ÿæˆï¼‰
- âœ… ç¬¬ä¸‰æ–¹é›†æˆï¼ˆStripeã€DocuSignã€Slackï¼‰
- âœ… è‡ªå®šä¹‰å·¥ä½œæµè®¾è®¡å™¨
- âœ… æ¨¡æ¿åº“å¢å¼º
- âœ… æ€§èƒ½ä¼˜åŒ– (ç¼“å­˜ã€ç´¢å¼•ã€æŸ¥è¯¢ä¼˜åŒ–)
- âœ… ç§»åŠ¨å“åº”å¼ä¼˜åŒ–

---

### é˜¶æ®µ4ï¼šç«äº‰åŠ›ç‰¹æ€§ï¼ˆæŒ‰éœ€ï¼‰

- ğŸ“Š **é¢„æµ‹åˆ†æ**ï¼šåŸºäºå†å²æ•°æ®é¢„æµ‹é¡¹ç›®å‘¨æœŸã€æˆåŠŸç‡
- ğŸ¤– **AIåŒ¹é…**ï¼šæ ¹æ®å®¢æˆ·ç”»åƒæ™ºèƒ½åŒ¹é…é¡¾é—®æˆ–è´¢å¯Œç®¡ç†æœºæ„
- ğŸ”’ **é«˜çº§å®‰å…¨**ï¼šç«¯åˆ°ç«¯åŠ å¯†ã€å®¡è®¡æ—¥å¿—ã€SOC 2è®¤è¯
- ğŸ“ˆ **Marketplace**ï¼šå†…éƒ¨å¾‹æ‰€/ç¨åŠ¡å¸ˆå›¢é˜Ÿçš„ä»»åŠ¡å¹³å°

---

## æ€»ç»“

æœ¬PRD v2.0è¡¥å……äº†ä»¥ä¸‹å…³é”®å†…å®¹ï¼š

âœ… **æŠ€æœ¯æ ˆå¯¹é½** - åŸºäºå®é™…Vue 3å‰ç«¯ï¼Œè¡¥å……åç«¯æ¶æ„  
âœ… **å‰åç«¯åˆ†ç¦»** - æ˜ç¡®ä¸‰ä¸ªå‰ç«¯åº”ç”¨ä¸åç«¯å¾®æœåŠ¡çš„åˆ†å·¥  
âœ… **APIè®¾è®¡** - å®Œæ•´çš„RESTful APIè§„èŒƒï¼ˆè®¤è¯ã€çº¿ç´¢ã€é¡¹ç›®ã€ä»»åŠ¡ã€æ–‡ä»¶ï¼‰  
âœ… **æ•°æ®æ¨¡å‹** - æ ¸å¿ƒå®ä½“ã€ERå›¾ã€å­—æ®µå®šä¹‰  
âœ… **è®¤è¯æˆæƒ** - JWTã€OAuth 2.0ã€RBACæƒé™çŸ©é˜µ  
âœ… **éƒ¨ç½²è¿ç»´** - Dockerã€Kubernetesã€CI/CDã€ç›‘æ§ã€å¤‡ä»½  
âœ… **å®˜ç½‘é›†æˆ** - Webhookã€å­—æ®µæ˜ å°„ã€æ•°æ®æµ  
âœ… **å¼€å‘è®¡åˆ’** - è°ƒæ•´åçš„é˜¶æ®µç›®æ ‡å’Œä¼˜å…ˆçº§  

**ä¸‹ä¸€æ­¥å»ºè®®**ï¼š
1. è¯„å®¡åç«¯æŠ€æœ¯æ ˆé€‰å‹ (Node.js vs Python)
2. å¯åŠ¨åç«¯æ¡†æ¶æ­å»ºå’Œæ•°æ®åº“è®¾è®¡  
3. å®šä¹‰å‰ç«¯ä¸åç«¯APIå¥‘çº¦
4. å»ºç«‹å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒé…ç½®
5. åˆ¶å®šè¯¦ç»†çš„è¿­ä»£è®¡åˆ’å’ŒæŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£
